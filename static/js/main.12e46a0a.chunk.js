(this["webpackJsonpmanhwa-app"]=this["webpackJsonpmanhwa-app"]||[]).push([[0],[,,,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;utf8,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(241, 242, 243,0); display: block;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n<g transform="rotate(0 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(30 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(60 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(90 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(120 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(150 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(180 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(210 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(240 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(270 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(300 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(330 50 50)">\n  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#f3c669">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate>\n  </rect>\n</g>\n</svg>'))},,function(e,t){e.exports="data:image/svg+xml;utf8,".concat(encodeURIComponent('<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 277.39 218.3"><defs><style>.cls-1,.cls-2,.cls-4{stroke:#000;stroke-miterlimit:10;}.cls-1{stroke-width:5px;fill:url(#linear-gradient);}.cls-2{stroke-width:9px;}.cls-3{fill:#fff;}.cls-4{stroke-width:6px;}.cls-5{fill:#eaff30;}</style><linearGradient id="linear-gradient" x1="138.55" y1="89.48" x2="146.55" y2="188.3" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffa230"/><stop offset="1" stop-color="#4530ff"/></linearGradient></defs><title>erl-manhwa-logo</title><polygon class="cls-1" points="3.05 64.38 266.55 21.88 255.55 192.88 168.05 193.38 154.05 214.38 133.05 193.38 33.55 193.88 3.05 64.38"/><polygon points="269.55 15.16 176.01 32.25 270.59 0 269.55 15.16"/><polygon points="32.05 200.38 34.05 207.38 108.05 200.38 32.05 200.38"/><path class="cls-2" d="M65,148q26,1.41,40.67,1.69c1,.16,1.58,1.22,1.58,3.17q0,13.27-2,21.33a1.71,1.71,0,0,1-1.86,1.57q-21,.15-52.27-2.47a104.63,104.63,0,0,1-15.93-1.87c-1.13-.26-1.72-.82-1.76-1.7Q34.55,139.14,37,114l-5.41-.09A1.49,1.49,0,0,1,30,112.79a130.57,130.57,0,0,1-.51-23c.36-1.51,1.08-2.27,2.15-2.26q30.58-.17,72.43,4.41a2,2,0,0,1,2,1.78q1.1,8.25-.91,20.83c-.32,1.92-1.11,2.89-2.39,2.9q-17.57-1.41-35.31-2.31l-.36,5.69q15.42.89,25.35,1.77c1,.12,1.43.93,1.47,2.44q.08,10.44-1.65,16.78A1.49,1.49,0,0,1,90.69,143q-11.09-.57-25.1-1.1Q65.34,145,65,148Z" transform="translate(-7.95 -36.63)"/><path class="cls-2" d="M144.9,151.65q-.18,10.32-.83,21.84c-.08.95-1.19,1.48-3.33,1.6A131.66,131.66,0,0,1,117,172.66c-1.11-.16-1.72-.67-1.84-1.54q-1.3-29-1-53.9c-1.82.11-3.66.21-5.52.29a1.49,1.49,0,0,1-1.67-1.13A126.07,126.07,0,0,1,105,95.79a4.28,4.28,0,0,1,2-2.5q15.27-5.87,42.39-7,18-.9,38.17,5.58,7.65,3,9.85,13.71,3.15,28.56-1.84,37.64-3.09,4.74-9.85,6.47c-1.27.23-2.53.45-3.8.65Q191.08,160,196,164.76c.55.68.18,1.69-1.13,3a113.46,113.46,0,0,1-15.91,13.89q-1.36,1-2.25.12Q165.91,172.25,144.9,151.65ZM165,115.85q-7.59-.3-20.24.12.18,8.61.24,17.21,8.65,2.08,22.2,0a4.7,4.7,0,0,0,2.85-1.72,14.18,14.18,0,0,0,2.07-7.42,18.62,18.62,0,0,0-.47-5.46Q170.79,116.09,165,115.85Z" transform="translate(-7.95 -36.63)"/><path class="cls-2" d="M208.65,176.67a2.36,2.36,0,0,1-2.1-1.94Q200,129.2,198.71,95c0-.79.78-1.36,2.46-1.72A138.36,138.36,0,0,1,226,91c.84.08,1.29.43,1.35,1.06q4.1,28.35,6.49,56.33,24.28-3,40-4.62c1,0,1.66.94,2,2.85q2.26,13.08,1.82,20.76A2.48,2.48,0,0,1,276,169.9Q237,175.44,208.65,176.67Z" transform="translate(-7.95 -36.63)"/><path class="cls-3" d="M67.27,147.6q25.29,1.36,39.59,1.64c1,.16,1.55,1.19,1.54,3.08q0,12.94-2,20.78a1.68,1.68,0,0,1-1.81,1.53q-20.43.15-50.9-2.41a102.58,102.58,0,0,1-15.51-1.82c-1.1-.25-1.67-.8-1.72-1.66Q37.58,139,40,114.57l-5.27-.09a1.44,1.44,0,0,1-1.53-1.12A126.56,126.56,0,0,1,32.69,91c.35-1.48,1.05-2.22,2.09-2.21q29.78-.16,70.53,4.29a1.91,1.91,0,0,1,2,1.74q1.06,8-.89,20.28c-.31,1.87-1.09,2.81-2.32,2.82Q87,116.55,69.71,115.67c-.11,1.85-.23,3.69-.35,5.54q15,.86,24.69,1.72c.91.12,1.39.91,1.42,2.38q.07,10.16-1.6,16.34a1.44,1.44,0,0,1-1.61,1.14q-10.8-.56-24.44-1.06Q67.57,144.67,67.27,147.6Z" transform="translate(-7.95 -36.63)"/><path class="cls-3" d="M145.19,151q-.16,10.06-.81,21.28c-.07.92-1.15,1.44-3.23,1.56A129.16,129.16,0,0,1,118,171.48c-1.08-.16-1.68-.66-1.8-1.51q-1.26-28.26-.92-52.48c-1.77.11-3.57.21-5.38.29a1.45,1.45,0,0,1-1.62-1.1,123.42,123.42,0,0,1-2-20.06,4.16,4.16,0,0,1,2-2.43q14.85-5.72,41.27-6.82,17.57-.87,37.17,5.44,7.45,2.94,9.59,13.35,3.06,27.79-1.79,36.65c-2,3.08-5.2,5.18-9.6,6.3-1.23.23-2.46.44-3.7.63q9,9.36,13.7,14c.54.65.18,1.64-1.1,3a110.48,110.48,0,0,1-15.49,13.52q-1.32.93-2.19.12Q165.65,171.07,145.19,151Zm19.54-34.85q-7.39-.28-19.71.11.18,8.39.23,16.77,8.44,2,21.62,0a4.6,4.6,0,0,0,2.77-1.68,13.88,13.88,0,0,0,2-7.22,18,18,0,0,0-.47-5.32C170.66,117.2,168.51,116.31,164.73,116.16Z" transform="translate(-7.95 -36.63)"/><path class="cls-3" d="M207.37,175.58a2.29,2.29,0,0,1-2-1.9q-6.42-44.33-7.64-77.66c0-.77.76-1.33,2.39-1.68a134.06,134.06,0,0,1,24.18-2.2c.82.07,1.26.42,1.32,1q4,27.6,6.31,54.85,23.66-2.91,38.94-4.5c1,0,1.62.91,1.95,2.78Q275,159,274.55,166.51a2.43,2.43,0,0,1-1.62,2.48Q235,174.38,207.37,175.58Z" transform="translate(-7.95 -36.63)"/><path class="cls-4" d="M38.67,205.11q-1.06,8.74-2.35,16.6c-.11.42-.65.61-1.63.6a61.85,61.85,0,0,1-10.85-.93c-.51-.11-.77-.36-.77-.75A314.67,314.67,0,0,1,27.48,187c.07-.34.57-.69,1.5-1a41.5,41.5,0,0,1,11.21-1.37,1.15,1.15,0,0,1,.83.46q2.34,3.54,5.16,7.88,2.79-4.33,5.14-7.88a1,1,0,0,1,.72-.46A41.41,41.41,0,0,1,63.23,186c.92.34,1.42.69,1.49,1a311.76,311.76,0,0,1,4.42,33.6q0,.59-.75.75a62.3,62.3,0,0,1-10.87.93c-1,0-1.52-.18-1.6-.6q-1.29-7.8-2.35-16.45-2.9,3.31-6.69,7.6a.85.85,0,0,1-.7.38.87.87,0,0,1-.7-.38Q41.61,208.49,38.67,205.11Z" transform="translate(-7.95 -36.63)"/><path class="cls-4" d="M87.09,215c-.86,3-1.75,5.87-2.66,8.62-.14.4-.67.51-1.6.34a37.58,37.58,0,0,1-9.51-3.2c-.46-.18-.68-.46-.64-.86q4.26-20.08,8.73-34.32c.12-.31.47-.53,1-.67a91.23,91.23,0,0,1,21.26-.33c.86.12,1.37.45,1.55,1a334.84,334.84,0,0,1,8.44,34.09.79.79,0,0,1-.62.85,62.37,62.37,0,0,1-9.58,2.74c-.93.17-1.46.06-1.6-.33q-1.32-4.19-2.53-8.45Q93.54,214.79,87.09,215ZM91.27,199q-.8,3.47-1.7,6.92c2.73,0,5.23-.06,7.48-.07q-.87-3.42-1.67-6.87Z" transform="translate(-7.95 -36.63)"/><path class="cls-4" d="M130,208.44q-.18,8.3-.41,13.43c0,.58-.56.86-1.53.82a39.19,39.19,0,0,1-9.29-1.16,1.08,1.08,0,0,1-.83-1.08q-.89-15.06-1-32.41c0-.45.44-.95,1.34-1.5q3.64-2.46,11.23-2.3c.18,0,.36.17.55.44q4.31,5.9,9.91,14.28.18-8.62.42-13.92c0-.58.56-.86,1.52-.82a38.58,38.58,0,0,1,9.3,1.18,1,1,0,0,1,.82,1.06q.89,15.06,1,32.41a2.35,2.35,0,0,1-1.34,1.53q-4.23,2.44-10.95,2.35c-.27,0-.64-.34-1.11-.91Q135.41,216.68,130,208.44Z" transform="translate(-7.95 -36.63)"/><path class="cls-4" d="M178.3,202.22q-.17-7.75-.31-15.63a.73.73,0,0,1,.54-.8,65.74,65.74,0,0,1,11.31-1c.76.12,1.15.44,1.19,1q1.47,21.66.31,35.2a1,1,0,0,1-.8,1,38.16,38.16,0,0,1-10.33.26c-1-.09-1.46-.44-1.53-1.06q-.08-4.08-.15-8.21-3.61.28-7.44.51,0,4-.1,7.86c-.05.41-.57.65-1.55.72a63.92,63.92,0,0,1-10.9-.08c-.52-.07-.8-.3-.85-.7a330.83,330.83,0,0,1-.08-35.76c0-.36.41-.59,1.19-.67a65.73,65.73,0,0,1,11.39,0q.57.11.57.54.26,8.52.33,16.79Q175,202.16,178.3,202.22Z" transform="translate(-7.95 -36.63)"/><path class="cls-4" d="M217.7,194.08a.81.81,0,0,1,.7-.39.79.79,0,0,1,.7.39q3.79,4.29,6.69,7.59,1.05-8.67,2.35-16.45c.08-.41.62-.61,1.6-.59a62.3,62.3,0,0,1,10.87.93q.75.15.75.75a312.11,312.11,0,0,1-4.42,33.6c-.07.34-.56.68-1.49,1a41.41,41.41,0,0,1-11.19,1.37,1,1,0,0,1-.72-.47q-2.35-3.56-5.14-7.87c-1.87,2.87-3.6,5.5-5.16,7.87a1.16,1.16,0,0,1-.83.47,41.5,41.5,0,0,1-11.21-1.37c-.93-.35-1.43-.69-1.5-1a315,315,0,0,1-4.41-33.6c0-.4.26-.65.77-.75a61.85,61.85,0,0,1,10.85-.93c1,0,1.52.18,1.63.59q1.29,7.86,2.35,16.61Q213.83,198.44,217.7,194.08Z" transform="translate(-7.95 -36.63)"/><path class="cls-4" d="M255.72,215c-.86,3-1.75,5.87-2.66,8.62-.14.4-.67.51-1.6.34a37.58,37.58,0,0,1-9.51-3.2c-.46-.18-.68-.46-.64-.86q4.26-20.08,8.73-34.32c.12-.31.47-.53,1.05-.67a91.23,91.23,0,0,1,21.26-.33c.86.12,1.37.45,1.55,1a334.84,334.84,0,0,1,8.44,34.09.79.79,0,0,1-.62.85,62.37,62.37,0,0,1-9.58,2.74c-.93.17-1.46.06-1.6-.33q-1.32-4.19-2.53-8.45Q262.18,214.79,255.72,215ZM259.9,199q-.79,3.47-1.7,6.92c2.73,0,5.23-.06,7.48-.07q-.87-3.42-1.67-6.87Z" transform="translate(-7.95 -36.63)"/><path class="cls-5" d="M41.77,204.2q-1,8.53-2.3,16.19c-.1.4-.63.59-1.58.58a60,60,0,0,1-10.58-.91c-.5-.1-.75-.34-.75-.73a303.75,303.75,0,0,1,4.3-32.76c.07-.33.56-.67,1.46-1a40.62,40.62,0,0,1,10.93-1.33,1.1,1.1,0,0,1,.81.45q2.28,3.45,5,7.68,2.73-4.23,5-7.68a1,1,0,0,1,.71-.45,40.45,40.45,0,0,1,10.9,1.33c.91.34,1.39.68,1.46,1a306,306,0,0,1,4.31,32.76c0,.39-.25.63-.73.73a60.57,60.57,0,0,1-10.6.91c-1,0-1.48-.18-1.57-.58q-1.24-7.6-2.29-16-2.82,3.22-6.52,7.4a.82.82,0,0,1-.68.38.83.83,0,0,1-.68-.38Q44.63,207.51,41.77,204.2Z" transform="translate(-7.95 -36.63)"/><path class="cls-5" d="M89,213.79c-.84,2.92-1.71,5.73-2.6,8.41q-.19.59-1.56.33a36,36,0,0,1-9.26-3.12c-.46-.17-.67-.45-.63-.83q4.16-19.59,8.51-33.47c.12-.3.46-.52,1-.65a88.26,88.26,0,0,1,20.72-.33c.84.12,1.35.44,1.51,1a326.5,326.5,0,0,1,8.24,33.24.79.79,0,0,1-.61.83,61,61,0,0,1-9.34,2.67c-.9.17-1.43.06-1.56-.33q-1.29-4.08-2.47-8.23Q95.28,213.64,89,213.79Zm4.08-15.54q-.78,3.38-1.67,6.75l7.31-.07q-.86-3.33-1.64-6.7C95.77,198.25,94.43,198.25,93.06,198.25Z" transform="translate(-7.95 -36.63)"/><path class="cls-5" d="M130.8,207.45q-.18,8.07-.4,13.09c-.05.57-.55.84-1.49.81a38.7,38.7,0,0,1-9.06-1.14,1.07,1.07,0,0,1-.81-1.05q-.86-14.68-1-31.61c0-.43.43-.92,1.3-1.46q3.55-2.39,11-2.24c.17,0,.34.16.53.43q4.2,5.75,9.67,13.93.17-8.42.4-13.58c0-.57.54-.84,1.48-.8a36.89,36.89,0,0,1,9.07,1.16,1,1,0,0,1,.8,1q.87,14.67,1,31.6c-.08.54-.52,1-1.31,1.48q-4.12,2.4-10.67,2.3c-.27,0-.63-.33-1.09-.89Q136.1,215.49,130.8,207.45Z" transform="translate(-7.95 -36.63)"/><path class="cls-5" d="M177.91,201.38q-.15-7.56-.3-15.24a.72.72,0,0,1,.53-.78,64.38,64.38,0,0,1,11-1c.74.12,1.12.43,1.16.93q1.42,21.13.3,34.32a.93.93,0,0,1-.78,1,36.71,36.71,0,0,1-10.07.25c-.93-.08-1.42-.43-1.49-1q-.07-4-.15-8-3.52.28-7.25.51c0,2.56,0,5.12-.1,7.65,0,.4-.56.64-1.51.71a62.84,62.84,0,0,1-10.63-.08c-.5-.07-.78-.29-.83-.68a324.69,324.69,0,0,1-.08-34.87c0-.36.41-.57,1.16-.66a65.51,65.51,0,0,1,11.11,0c.37.07.55.25.55.53q.25,8.31.33,16.37Q174.75,201.32,177.91,201.38Z" transform="translate(-7.95 -36.63)"/><path class="cls-5" d="M216.34,193.45a.73.73,0,0,1,.68-.38.74.74,0,0,1,.68.38q3.7,4.17,6.52,7.4,1-8.46,2.29-16c.08-.4.61-.6,1.56-.58a60.48,60.48,0,0,1,10.6.91c.49.1.73.34.73.73a303.75,303.75,0,0,1-4.3,32.76c-.07.33-.56.67-1.46,1A40.54,40.54,0,0,1,222.73,221a.94.94,0,0,1-.7-.46q-2.29-3.47-5-7.68-2.75,4.21-5,7.68a1.08,1.08,0,0,1-.8.46,40.54,40.54,0,0,1-10.93-1.34c-.91-.33-1.4-.67-1.46-1a306,306,0,0,1-4.31-32.76c0-.39.25-.63.76-.73a60,60,0,0,1,10.57-.91c1,0,1.49.18,1.59.58q1.26,7.65,2.29,16.19Q212.56,197.7,216.34,193.45Z" transform="translate(-7.95 -36.63)"/><path class="cls-5" d="M253.4,213.79c-.84,2.92-1.7,5.73-2.59,8.41q-.19.59-1.56.33a36.23,36.23,0,0,1-9.27-3.12c-.45-.17-.66-.45-.63-.83q4.16-19.59,8.51-33.47c.12-.3.47-.52,1-.65a88.26,88.26,0,0,1,20.72-.33c.84.12,1.34.44,1.51,1a326.72,326.72,0,0,1,8.23,33.24c0,.39-.16.66-.6.83a61.37,61.37,0,0,1-9.34,2.67q-1.37.26-1.56-.33-1.29-4.08-2.47-8.23Q259.71,213.64,253.4,213.79Zm4.08-15.54q-.78,3.38-1.66,6.75l7.3-.07q-.86-3.33-1.63-6.7C260.19,198.25,258.86,198.25,257.48,198.25Z" transform="translate(-7.95 -36.63)"/></svg>'))},function(e,t){e.exports=function(e){return new Promise((function(t){setTimeout((function(){t(null)}),e)}))}},,,,,function(e,t,n){e.exports=n(43)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),s=(n(24),n(25),n(3)),i=n(4),l=n(6),u=n(5),m={events:{},on:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},off:function(e,t){if(this.events[e])for(var n=0;n<this.events[e].length;n++)if(this.events[e][n]===t){this.events[e].splice(n,1);break}},emit:function(e,t){this.events[e]&&this.events[e].forEach((function(e){e(t)}))}},d=(n(26),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).componentDidMount=function(){e._isMounted=!0,window.addEventListener("popstate",e.onPopState),m.on("pushstate",e.onPushState),e.onPushState()},e.componentWillUnmount=function(){e._isMounted=!1,window.removeEventListener("popstate",e.onPopState),m.off("pushstate",e.onPushState)},e.pushTime=null,e.onPushState=function(){window.location.pathname===e.props.path?e.setState({show:!0},(function(){e.contentRef.current.style.transform="translateX(".concat(window.screen.width,"px)"),e.bgRef.current.style.opacity=0,e.pushTime&&clearTimeout(e.pushTime),e.pushTime=setTimeout((function(){e.contentRef.current.style.transform="translateX(0px)",e.bgRef.current.style.opacity=1}),10)})):e.state.show&&(e.contentRef.current.style.transform="translateX(-".concat(window.screen.width/4,"px)"),e.bgRef.current.style.opacity=0)},e.onPopState=function(){console.log("RoutPage: ",e.props.path,window.location.pathname),window.location.pathname===e.props.path?e.setState({show:!0},(function(){e.contentRef.current.style.transform="translateX(-".concat(window.screen.width/4,"px)"),e.bgRef.current.style.opacity=1,e.pushTime&&clearTimeout(e.pushTime),e.pushTime=setTimeout((function(){e.contentRef.current.style.transform="translateX(0px)",e.bgRef.current.style.opacity=1}),10)})):e.state.show&&(e.contentRef.current.style.transform="translateX(".concat(window.screen.width,"px)"),e.bgRef.current.style.opacity=0,e.pushTime&&clearTimeout(e.pushTime),e.pushTime=setTimeout((function(){e.setState({show:!1},(function(){}))}),300))},e.state={show:!1},e.contentRef=r.a.createRef(),e.bgRef=r.a.createRef(),e}return Object(i.a)(n,[{key:"render",value:function(){return this.state.show?r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"page-bg",ref:this.bgRef}),r.a.createElement("div",{className:"page-content",ref:this.contentRef},this.props.children)):r.a.createElement(r.a.Fragment,null)}}]),n}(a.Component)),h=n(1),f=n.n(h),p=n(2),g=n(12),v=(n(28),{menu:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z",fill:e.fill,"data-fillable":!0}))},search:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:e.fill,"data-fillable":!0}))},arrow_back:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",fill:e.fill,"data-fillable":!0}))},arrow_forward:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",fill:e.fill,"data-fillable":!0}))},arrow_up:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z",fill:e.fill,"data-fillable":!0}))},arrow_down:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z",fill:e.fill,"data-fillable":!0}))},close:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:e.fill,"data-fillable":!0}))},import_export:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z",fill:e.fill,"data-fillable":!0}))},home:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.height||24,viewBox:"0 0 24 24",width:e.width||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",fill:e.fill,"data-fillable":!0}))},cloud_download:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z",fill:e.fill,"data-fillable":!0}))},send:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z",fill:e.fill,"data-fillable":!0}))},add:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:e.fill,"data-fillable":!0}))},more_vert:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:e.fill,"data-fillable":!0}))},arrow_forward_ios:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z",fill:e.fill,"data-fillable":!0}))},list:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z",fill:e.fill,"data-fillable":!0}))},arrow_right:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24,style:e.style},r.a.createElement("path",{d:"M10 17l5-5-5-5v10z",fill:e.fill,"data-fillable":!0}),r.a.createElement("path",{d:"M0 24V0h24v24H0z",fill:"none"}))},arrow_left:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24,style:e.style},r.a.createElement("path",{d:"M14 7l-5 5 5 5V7z",fill:e.fill,"data-fillable":!0}),r.a.createElement("path",{d:"M24 0v24H0V0h24z",fill:"none"}))},public:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z",fill:e.fill,"data-fillable":!0}))},link:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z",fill:e.fill,"data-fillable":!0}))},delete:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:e.fill,"data-fillable":!0}))},verified:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("g",null,r.a.createElement("rect",{fill:"none",height:24,width:24})),r.a.createElement("g",null,r.a.createElement("path",{d:"M23,12l-2.44-2.79l0.34-3.69l-3.61-0.82L15.4,1.5L12,2.96L8.6,1.5L6.71,4.69L3.1,5.5L3.44,9.2L1,12l2.44,2.79l-0.34,3.7 l3.61,0.82L8.6,22.5l3.4-1.47l3.4,1.46l1.89-3.19l3.61-0.82l-0.34-3.69L23,12z M10.09,16.72l-3.8-3.81l1.48-1.48l2.32,2.33 l5.85-5.87l1.48,1.48L10.09,16.72z",fill:e.fill,"data-fillable":!0})))},history:function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.size||24,viewBox:"0 0 24 24",width:e.size||24},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z",fill:e.fill,"data-fillable":!0}))}}),w=function(e){var t=v[e.name];return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,e))},b=n(10),E=n(7),y={db:null,init:function(e){var t=this;if(window.devMode){var n=window.indexedDB.open("stories");n.onerror=function(){alert("Error opening Database")},n.onsuccess=function(n){t.db=n.target.result,"function"===typeof e&&e()},n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("tbl_stories")||t.createObjectStore("tbl_stories",{autoIncrement:!0}).createIndex("url","url",{unique:!0})}}else this.db=window.sqlitePlugin.openDatabase({name:"stories.db",location:"default"}),"function"===typeof e&&e()},asyncQuery:function(e,t){var n=this;return new Promise((function(a,r){n.db.transaction((function(n){n.executeSql(e,t,(function(e,t){for(var n=[],r=0;r<t.rows.length;r++){var o=t.rows.item(r);n.push(o)}a(n)}),(function(e,t){window.devMode?r(t):r(e)}))}))}))},asyncExec:function(e,t){var n=this;return new Promise((function(a,r){n.db.transaction((function(n){n.executeSql(e,t,(function(e,t){window.devMode,a(t)}),(function(e,t){window.devMode,r(t)}))}))}))}};var S={initTable:function(){window.devMode?console.log(y.db):y.db.transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS tbl_stories(id INTEGER PRIMARY KEY AUTOINCREMENT,title TEXT,url TEXT UNIQUE,cover TEXT,description TEXT,info_json TEXT,date_added TEXT)")}))},addStory:function(e){return new Promise((function(t,n){if(window.devMode){y.db.transaction("tbl_stories","readwrite").objectStore("tbl_stories").add(e),t("ok")}else{var a=Object.keys(e).map((function(e){return e})).join(","),r=Object.values(e),o=r.map((function(){return"?"})).join(","),c="INSERT INTO tbl_stories (".concat(a,") VALUES (").concat(o,")");y.asyncExec(c,r).then((function(e){t(e)})).catch((function(e){n(e)}))}}))},getStories:function(e){var t=e.search,n=e.limit,a=e.page;return new Promise(function(){var e=Object(p.a)(f.a.mark((function e(r,o){var c,s,i,l,u,m,d,h,p,g,v;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.devMode){e.next=6;break}s=function(){y.db?y.db.transaction("tbl_stories","readwrite").objectStore("tbl_stories").openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=t.trim().split(/\s+/).map((function(e){return e})).join("|"),i=new RegExp("(".concat(s,")"),"gi");String(o.value.title).match(i)&&c.push(Object(E.a)({id:o.key},o.value)),o.continue()}else{console.log("No more entries!"),c.sort((function(e,t){return e.title.toLowerCase().localeCompare(t.title.toLowerCase())}));for(var l=[],u=c.length,m=n*(a-1),d=0;d<n;d++){var h=m+d;if(h>=u)break;l.push(c[h])}r({results:l,current_page_record_count:l.length,current_page:a,total_record_count:c.length,total_page_count:Math.ceil(u/n)})}}:setTimeout((function(){s()}),300)},c=[],s(),e.next=29;break;case 6:return e.prev=6,i=t.trim().replace(/\s+/g," "),l=String(i).split(" "),u=(u=[t]).concat(l),m=u.map((function(e){return" title LIKE '%".concat(e.replace("'","''"),"%' ")})).join(" OR "),d=n*(a-1),h="SELECT * \n                                FROM tbl_stories \n                                WHERE ".concat(m,"\n                                ORDER BY title COLLATE NOCASE ASC\n                                LIMIT ? OFFSET ?"),p="SELECT COUNT(id) as count\n                                FROM tbl_stories \n                                WHERE ".concat(m),g=null,console.log(h),console.log(p),e.next=20,y.asyncQuery(h,[n,d]).then((function(e){g=e})).catch((function(e){o(e)}));case 20:return v=null,e.next=23,y.asyncQuery(p).then((function(e){v=e[0].count})).catch((function(e){o(e)}));case 23:r({results:g,current_page_record_count:g.length,current_page:a,total_record_count:v,total_page_count:Math.ceil(v/n)}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(6),o(e.t0);case 29:case"end":return e.stop()}}),e,null,[[6,26]])})));return function(t,n){return e.apply(this,arguments)}}())},getStoriesByURL:function(e){return new Promise(function(){var t=Object(p.a)(f.a.mark((function t(n,a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.devMode){t.next=6;break}(r=function(){y.db?y.db.transaction("tbl_stories","readwrite").objectStore("tbl_stories").index("url").get(e).onsuccess=function(e){console.log("index res: ",e.target.result),e.target.result?n([e.target.result]):n([])}:setTimeout((function(){r()}),300)})(),t.next=9;break;case 6:return"SELECT * \n                                FROM tbl_stories \n                                WHERE url = ?\n                                ORDER BY title COLLATE NOCASE ASC",t.next=9,y.asyncQuery("SELECT * \n                                FROM tbl_stories \n                                WHERE url = ?\n                                ORDER BY title COLLATE NOCASE ASC",[e]).then((function(e){n(e)})).catch((function(e){a(e)}));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}())},deleteStory:function(e){return new Promise(function(){var t=Object(p.a)(f.a.mark((function t(n,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.devMode?y.db.transaction("tbl_stories","readwrite").objectStore("tbl_stories").delete(e).onsuccess=function(e){n(e)}:("DELETE FROM tbl_stories WHERE id = ?",y.asyncExec("DELETE FROM tbl_stories WHERE id = ?",[e]).then((function(e){n(e)})).catch((function(e){a(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},updateStory:function(e,t){return new Promise((function(n,a){var r=Object.keys(t).map((function(e){return e+" = ?"})).join(","),o=Object.values(t),c="UPDATE tbl_stories SET ".concat(r,"\n                        WHERE id = ?");y.asyncExec(c,[].concat(Object(b.a)(o),[e])).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},C=window.erl_require("req"),x=C.getStoryHTML,k=C.getChapterHTML,N=C.getImage,O=C.searchOnline;function _(e){return T.apply(this,arguments)}function T(){return(T=Object(p.a)(f.a.mark((function e(t){var n,a,r,o,c,s,i,l,u,m,d,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=!0,e.next=4,x(t).catch((function(){return n=!1,console.log("call catch"),Promise.reject("Failed")}));case 4:if(a=e.sent,!1!==n){e.next=7;break}return e.abrupt("return",{status:500});case 7:return r=(new DOMParser).parseFromString(a,"text/html"),o={},c=r.querySelector(".post-title>h1")||r.querySelector(".post-title>h3"),s=c.childNodes[c.childNodes.length-1].textContent.trim(),i=r.querySelector(".summary_image img"),l=i.getAttribute("data-src")||i.getAttribute("data-cfsrc")||i.getAttribute("src"),u=Object(b.a)(r.querySelectorAll(".post-content .post-content_item")),m={},u.forEach((function(e){m[e.querySelector(".summary-heading").textContent.trim()]=e.querySelector(".summary-content").textContent.trim()})),Object(b.a)(r.querySelectorAll(".post-status .post-content_item")).forEach((function(e){m[e.querySelector(".summary-heading").textContent.trim()]=e.querySelector(".summary-content").textContent.trim()})),d=Object(b.a)(r.querySelectorAll(".summary__content p")).map((function(e){return e.textContent})).join("\n\n"),h=[],Object(b.a)(r.querySelectorAll(".wp-manga-chapter")).forEach((function(e){var t=e.querySelector("a"),n=e.querySelector(".chapter-release-date"),a=(n.querySelector("i")?n.querySelector("i").textContent.trim():n.querySelector("a").getAttribute("title"))||"No Date",r=t.getAttribute("href")&&t.getAttribute("href").trim(),o=t.textContent&&t.textContent.trim();h.push({url:r,title:o,date:a})})),o.url=t,o.title=s,o.cover=l,o.storyInfo=m,o.chapters=h,o.description=d,e.abrupt("return",Promise.resolve(o));case 30:return e.prev=30,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 33:case"end":return e.stop()}}),e,null,[[0,30]])})))).apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return(L=Object(p.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return n=e.sent,a=(new DOMParser).parseFromString(n,"text/html"),r=[],Object(b.a)(a.querySelectorAll(".reading-content img")).forEach((function(e){var t=e.getAttribute("data-src")||e.getAttribute("data-cfsrc")||e.getAttribute("src");t=t.trim(),r.indexOf(t)<0&&r.push(t)})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(p.a)(f.a.mark((function e(t,n,a){var r,o,c,s,i,l,u,m,d,h,p,g,v,w,E,y,S,C,k,N,O,_,T,R,L,j;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("tabIndex: ",t),r=[{url:"https://www.webtoon.xyz/webtoons/"},{url:"https://mangaclash.com/manga/"}],console.log("tabIndex: ",t,r[t]),"number"===typeof n){e.next=5;break}return e.abrupt("return",null);case 5:return o=r[t].url,n>1&&(o+="page/".concat(n,"/")),a&&(o=o+"?m_orderby="+a),e.next=10,x(o);case 10:for(c=e.sent,s=(new DOMParser).parseFromString(c,"text/html"),i=s.querySelector(".page-content-listing"),l=Object(b.a)(i.querySelectorAll(".page-item-detail")),u=s.querySelector(".c-blog__heading .h4").textContent.trim().match(/\d+/gi)[0],m=[],d=0;d<l.length;d++)try{for(console.log("loop index: ",d),h=l[d],p=h.querySelector(".item-thumb > a").getAttribute("href").trim(),g=h.querySelector(".item-summary > .post-title > .h5 > a").textContent.trim(),v=h.querySelector(".item-thumb > a > img").getAttribute("data-src")?h.querySelector(".item-thumb > a > img").getAttribute("data-src").trim():h.querySelector(".item-thumb > a > img").getAttribute("data-cfsrc")?h.querySelector(".item-thumb > a > img").getAttribute("data-cfsrc").trim():h.querySelector(".item-thumb > a > img").getAttribute("src").trim(),w=h.querySelector(".item-summary > .meta-item > .post-total-rating > .score").textContent.trim(),E=Object(b.a)(h.querySelectorAll(".list-chapter .chapter-item")),y=[],S=0;S<E.length;S++)(C=E[S])?(k=C.querySelector(".chapter > a").textContent.trim(),N=C.querySelector(".chapter > a").getAttribute("href"),O=C.querySelector(".post-on > .c-new-tag")?String(C.querySelector(".post-on > .c-new-tag > a").getAttribute("title")).trim():C.querySelector(".post-on").textContent.trim(),_=!!C.querySelector(".post-on > .c-new-tag"),y.push({chapText:k,chapURL:N,postOn:O,isNew:_})):console.log("cannot read index");for(T=Object(b.a)(h.querySelectorAll(".item-thumb .manga-title-badges")),R=[],L=0;L<T.length;L++)j=T[L],R.push(j.textContent.trim());m.push({url:p,title:g,imgURL:v,rating:w,last_two_chapters:y,badges:R})}catch(f){console.log(f)}return console.log(m),e.abrupt("return",{list:m,resultTotalCount:Number(u)});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t=0,n=null,a=new Promise(function(){var a=Object(p.a)(f.a.mark((function a(r,o){var c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t++,c=function(){var t=Object(p.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e).getAbortController((function(e){n=e})).then((function(e){var t=new FileReader;t.onload=function(){r(t.result)},t.readAsDataURL(e)})).catch((function(e){o(window.base_url+"erl-manhwa-img-error.jpg")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{c()}catch(s){t>5?o(s):c()}case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());return a.getAbortController=function(e){return"function"===typeof e&&e(n),a},a}function A(e){return new Promise(function(){var t=Object(p.a)(f.a.mark((function t(n,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{O(e).then((function(e){n(e)})).catch((function(e){a(e)}))}catch(r){a(r)}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}var I={db:null,init:function(e){var t=this,n=window.indexedDB.open("img_cache",2);n.onerror=function(){alert("Error opening Database")},n.onsuccess=function(n){t.db=n.target.result,window.db_img_cache=t.db,"function"===typeof e&&e()},n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("tbl_img_cache")||t.createObjectStore("tbl_img_cache",{autoIncrement:!1}),t.objectStoreNames.contains("tbl_dl_chaps")||t.createObjectStore("tbl_dl_chaps",{autoIncrement:!1})}}};var P={add:function(e,t){return new Promise((function(n,a){I.db.transaction("tbl_dl_chaps","readwrite").objectStore("tbl_dl_chaps").put(t,e),n("ok")}))},clearAllByStory:function(){return new Promise((function(e,t){I.db.transaction("tbl_dl_chaps","readwrite").objectStore("tbl_dl_chaps").clear(),e("ok")}))},get:function(e){return new Promise((function(t,n){!function a(){if(I.db)try{var r=I.db.transaction(["tbl_dl_chaps"]).objectStore("tbl_dl_chaps").get(e);r.onsuccess=function(e){t(e.target.result)},r.onerror=function(e){n(e)}}catch(o){n(o)}else setTimeout((function(){a()}),1e3)}()}))},deleteSingle:function(e){return new Promise((function(t,n){var a=I.db.transaction("tbl_dl_chaps","readwrite").objectStore("tbl_dl_chaps").delete(e);a.onsuccess=function(e){t({message:"Deleted Successfully",event:e})},a.onerror=function(e){n(e)}}))},clearAll:function(){return new Promise((function(e,t){I.db.transaction("tbl_dl_chaps","readwrite").objectStore("tbl_dl_chaps").clear(),e("ok")}))}};function M(e){return new Promise((function(t,n){var a=I.db.transaction("tbl_img_cache","readwrite").objectStore("tbl_img_cache").delete(e);a.onsuccess=function(e){t({message:"Deleted Successfully",event:e})},a.onerror=function(e){n(e)}}))}function q(e){return new Promise(function(){var t=Object(p.a)(f.a.mark((function t(n,a){var r,o,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:if(!(r=t.sent)){t.next=20;break}o=0;case 5:if(!(o<r.length)){t.next=12;break}return c=r[o],t.next=9,M(c);case 9:o++,t.next=5;break;case 12:return t.next=14,M(e);case 14:return t.next=16,P.deleteSingle(e);case 16:m.emit("dl.chap.done",{url:e,mode:!1}),n(r),t.next=24;break;case 20:return m.emit("dl.chap.done",{url:e,mode:!1}),t.next=23,P.deleteSingle(e);case 23:n(null);case 24:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}function B(e){return new Promise((function(t,n){!function a(){if(I.db)try{var r=I.db.transaction(["tbl_img_cache"]).objectStore("tbl_img_cache");console.log("url: ",e);var o=r.get(e);o.onsuccess=function(e){t(e.target.result)},o.onerror=function(e){n(e)}}catch(c){n(c)}else setTimeout((function(){a()}),1e3)}()}))}var z={add:function(e,t){return new Promise((function(n,a){I.db.transaction("tbl_img_cache","readwrite").objectStore("tbl_img_cache").put(t,e),n("ok")}))},clearAll:function(){return new Promise(function(){var e=Object(p.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.db.transaction("tbl_img_cache","readwrite").objectStore("tbl_img_cache").clear(),e.next=4,P.clearAll();case 4:t("ok");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},get:B,deleteByChapter:q,deleteSingle:M,deleteByStory:function(e){return console.log("storyURL: ",e),new Promise(function(){var t=Object(p.a)(f.a.mark((function t(n,a){var r,o,c,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:if(!(r=t.sent)){t.next=22;break}o=[],c=r.chapters,s=0;case 7:if(!(s<c.length)){t.next=17;break}return i=c[s].url,t.t0=o,t.next=12,q(i);case 12:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 14:s++,t.next=7;break;case 17:return t.next=19,M(e);case 19:n({deletedChapters:o,story:r}),t.next=23;break;case 22:n(null);case 23:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},U=n(11),H=n.n(U);window.erl={},window.erl.imgcache={};var F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={src:H.a},e.imgRef=r.a.createRef(),e._isMounted=!1,e.abortController=null,e.componentDidMount=Object(p.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._isMounted=!0,e.loadData();case 2:case"end":return t.stop()}}),t)}))),e.loadData=Object(p.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.src){t.next=5;break}return t.next=3,z.get(e.props.src).catch((function(e){console.log(e)}));case 3:(n=t.sent)?e.setState({src:n},(function(){console.log("cache found")})):(console.log("cache not found"),D(e.props.src).getAbortController((function(t){e.abortController=t})).then((function(t){e._isMounted&&e.setState({src:t},(function(){"function"===typeof e.props.onCache&&e.props.onCache(e.props.src,t)}))})).catch((function(t){e._isMounted&&(console.log("catch on cover image"),e.setState({src:t}))})));case 5:case"end":return t.stop()}}),t)}))),e.getImageSource=function(){return e.imgRef.current.src},e.componentWillUnmount=function(){e._isMounted=!1,e.abortController&&(e.abortController.abort(),console.log("called abort",e.abortController))},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:this.state.src,alt:this.props.alt||"cover",className:this.props.className,style:this.props.style,ref:this.imgRef,"data-src":this.props.src,"data-role":"img-cover"})}}]),n}(a.Component),W=n(8),Z=(n(29),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this))._onDelete=null,e._onOpen=null,e.show=function(t){document.addEventListener("backbutton",e.hide,!1),e.setState(Object(E.a)({show:!0},t),(function(){setTimeout((function(){e.setState({cardClass:"translateY(0%) translateZ(0px)",bgClass:1})}),10)}))},e.hide=function(){document.removeEventListener("backbutton",e.hide),e.setState({cardClass:"translateY(100%) translateZ(0px)",bgClass:0},(function(){setTimeout((function(){e.setState({show:!1,value:"",title:""})}),300)}))},e.setOnDelete=function(t){return"function"===typeof t&&(e._onDelete=t),Object(W.a)(e)},e.setOnOpen=function(t){return"function"===typeof t&&(e._onOpen=t),Object(W.a)(e)},e.onDelete=function(){"function"===typeof e._onDelete&&(e._onDelete(),e.hide())},e.onOpen=function(){"function"===typeof e._onOpen&&(e._onOpen(),e.hide())},e.state={show:!1,value:"",title:"",url:"",cardClass:"translateY(100%) translateZ(0px)",bgClass:0},e}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createPortal(this.state.show?r.a.createElement("div",{className:"lio-con"},r.a.createElement("div",{className:"lio-bg",onClick:this.hide,style:{opacity:this.state.bgClass}}),r.a.createElement("div",{className:"lio-card",style:{transform:this.state.cardClass}},r.a.createElement("div",{className:"lio-head"},r.a.createElement("div",{className:"lio-head-title"},r.a.createElement("div",null,this.state.title),r.a.createElement("div",{className:"lio-h-from"},new URL(this.state.url).hostname))),r.a.createElement("div",{className:"lio-content lio-btns"},r.a.createElement("button",{onClick:this.onOpen},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:"public",fill:"#777"})),r.a.createElement("div",null,"Go to Source Page")),r.a.createElement("button",{onClick:this.onDelete},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:"delete",fill:"#777"})),r.a.createElement("div",null,"Delete Story")),r.a.createElement("button",{onClick:this.hide},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:"close",fill:"#777"})),r.a.createElement("div",null,"Close"))))):r.a.createElement(r.a.Fragment,null),document.body)}}]),n}(a.Component)),V=(n(30),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).show=function(){document.addEventListener("backbutton",e.hide,!1),e.setState({show:!0})},e.hide=function(){document.removeEventListener("backbutton",e.hide),e.setState({show:!1,value:""})},e.onTxtChange=function(t){t.preventDefault(),e.setState({value:t.target.value})},e.submit=function(){e.state.value.match(/^(http|https):\/\/[^/]+\/[^/]+\/[^/]+\/?$/)?("function"===typeof e.props.onSubmit&&e.props.onSubmit(e.state.value),e.hide()):alert("Invalid URL")},e.state={show:!1,value:""},e}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createPortal(this.state.show?r.a.createElement("div",{className:"sf-con"},r.a.createElement("div",{className:"sf-card"},r.a.createElement("div",{className:"sf-head"},r.a.createElement("div",{className:"sf-head-title"},"Add Story"),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("button",{className:"btn-close",onClick:this.hide},r.a.createElement(w,{name:"close",fill:"#DDD"}))),r.a.createElement("div",{className:"sf-content"},r.a.createElement("div",{className:"sf-in-con"},r.a.createElement("input",{placeholder:"Story URL...",value:this.state.value,onChange:this.onTxtChange})),r.a.createElement("div",{style:{color:"#AAA"}},r.a.createElement("h4",null,"Valid Sites:"),r.a.createElement("ul",null,r.a.createElement("li",null,"toonily.com"),r.a.createElement("li",null,"manhwa.club"),r.a.createElement("li",null,"manhwahentai.me"),r.a.createElement("li",null,"manytoon.com")))),r.a.createElement("div",{className:"sf-foot"},r.a.createElement("button",{className:"btn-save",onClick:this.submit},"ADD STORY")))):r.a.createElement(r.a.Fragment,null),document.body)}}]),n}(a.Component)),X=n(17),Y=(n(31),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).positions={top:{show:"sbar-open-anim-top",close:"sbar-close-anim-top"},bottom:{show:"sbar-open-anim",close:"sbar-close-anim"}},a.icons={success:r.a.createElement("span",null,"\ue86c"),error:r.a.createElement("span",null,"\ue001"),warning:r.a.createElement("span",null,"\ue002"),info:r.a.createElement("span",null,"\ue88f")},a.colors={success:"#4caf50",error:"#f44336",warning:"#ff9800",info:"#2196f3"},a.show=function(e,t){return new Promise((function(n,r){a.closeTimer&&clearTimeout(a.closeTimer);var o=function(){a.setState({show:!0,visible:!0,mode:e.mode||"info",message:e.message||"No Message",autoClose:e.autoClose||!0,autoCloseTime:e.autoCloseTime||3e3},(function(){"function"===typeof t&&t(),!0===a.state.autoClose&&(a.closeTimer=setTimeout((function(){a.close().then((function(){n(Object(W.a)(a))}))}),a.state.autoCloseTime))}))};!1===a.state.show?o():a.close((function(){o()}))}))},a.close=function(e){return new Promise((function(t,n){a.closeAnimTimer&&clearTimeout(a.closeAnimTimer),a.closeTimer&&clearTimeout(a.closeTimer),a.setState({visible:!1},(function(){a.closeAnimTimer=setTimeout((function(){a.setState({show:!1,mode:"",message:"",autoClose:!0,autoCloseTime:3e3}),"function"===typeof e&&e(),t(Object(W.a)(a)),a.onCloseCallback=null}),300)}))}))},a.setOnCloseCallback=function(){return new Promise((function(e,t){a.close().then((function(){e(Object(W.a)(a))}))}))},a.state={show:!1,message:"Now, clone this repo in your termux ,navigate into it and install the packages and start the server",mode:"success",visible:!1,autoClose:!0,autoCloseTime:3e3},a.closeAnimTimer=null,a.closeTimer=null,a.onForceClose=null,a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return c.a.createPortal(this.state.show?r.a.createElement("div",{className:"snackbar-con"+(this.state.visible?" ".concat(this.positions[this.props.position||"bottom"].show):" ".concat(this.positions[this.props.position||"bottom"].close)),style:Object(X.a)({backgroundColor:this.colors[this.state.mode||"success"]},this.props.position||"bottom",16)},r.a.createElement("div",{className:"m-icon sbar-btn-ico"},this.icons[this.state.mode||"info"]),r.a.createElement("div",{className:"sbar-message"},this.state.message),r.a.createElement("button",{className:"m-icon sbar-btn-x",onClick:function(){e.close().then((function(){"function"===typeof e.onForceClose&&e.onForceClose(),e.onForceClose=null}))}},"\ue5cd")):null,document.body)}}]),n}(a.Component)),Q=function(){var e=window.localStorage.getItem("loadImageSync");return e?Number(e):(window.localStorage.setItem("loadImageSync","0"),0)},G=function(e){window.localStorage.setItem("loadImageSync",String(e)),m.emit("loadImageSyncChange",Number(e))},K=function(){var e=window.localStorage.getItem("showItemStatus");return e?Number(e):(window.localStorage.setItem("showItemStatus","1"),1)},$=function(e){window.localStorage.setItem("showItemStatus",String(e)),m.emit("showItemStatusChange",Number(e))},J=function(){var e=window.localStorage.getItem("autoDeleteCache");return e?Number(e):(window.localStorage.setItem("autoDeleteCache","1"),1)},ee=function(e){window.localStorage.setItem("autoDeleteCache",String(e)),m.emit("autoDeleteCacheChange",Number(e))},te=function(){var e=window.localStorage.getItem("fastDL");return e?Number(e):(window.localStorage.setItem("fastDL","0"),1)},ne=function(e){window.localStorage.setItem("fastDL",String(e)),m.emit("fastDLChange",Number(e))},ae=function(){var e=window.localStorage.getItem("theme");return e||(window.localStorage.setItem("theme","light"),"light")},re=function(e){window.localStorage.setItem("theme",String(e)),document.body.setAttribute("class",e),m.emit("themeChanged",e)},oe=(n(32),n(33),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={checked:!1,disabled:!1},e.componentDidMount=function(){e.props.defaultValue&&e.setState({checked:e.props.defaultValue}),e.props.disabled&&e.setState({disabled:e.props.disabled})},e.onTap=function(){e.state.disabled||e.setState({checked:!e.state.checked},(function(){e.props.onChange&&e.props.onChange(Object(W.a)(e))}))},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"toggle-con"+(this.state.disabled?" toggle-disabled":""),onClick:this.onTap,tabIndex:0,style:{backgroundColor:this.state.checked?this.props.activeColor?this.props.activeColor:"#4CAF50":null}},r.a.createElement("div",{className:"toggle-circle",style:{left:this.state.checked?32:4}}))}},{key:"disabled",get:function(){return this.state.disabled},set:function(e){this.setState({disabled:e})}},{key:"checked",get:function(){return this.state.checked},set:function(e){this.setState({checked:e})}}]),n}(a.Component)),ce=n(13),se=n.n(ce),ie=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],c=n[1],s=function(){window.location.pathname===e.to?c(!0):c(!1)};Object(a.useEffect)((function(){return console.log("exe"),s(),m.on("pushstate",s),window.addEventListener("popstate",s),function(){m.off("pushstate",s),window.removeEventListener("popstate",s)}}),[]);return r.a.createElement("button",{className:"dbutton"+(o?" db-act":""),onClick:function(){"function"===typeof e.onClick&&e.onClick(),setTimeout((function(){window.location.pathname!==e.to&&(window.history.pushState(null,"",e.to),m.emit("pushstate"))}),300)}},r.a.createElement("div",{className:"dbutton-ico m-icon"},e.icon),r.a.createElement("div",{className:"db-lbl"},e.label))},le=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).drawerCardRef=r.a.createRef(),e.drawerBgRef=r.a.createRef(),e.darkModeToggleRef=r.a.createRef(),e.loadImageSyncToggle=r.a.createRef(),e.showItemStatusToggle=r.a.createRef(),e.autoDeleteToggle=r.a.createRef(),e.fastDLToggle=r.a.createRef(),e.threshold=16,e.allowMove=!1,e.startPoint=0,e.endPoint=0,e.currentPosition=0,e.distance=0,e.startTime=0,e.endTime=0,e.isOpen=!1,e.slideTimer=null,e.componentDidMount=function(){e.darkModeToggleRef.current.checked="dark"===ae(),e.loadImageSyncToggle.current.checked=Q(),e.showItemStatusToggle.current.checked=K(),e.fastDLToggle.current.checked=te(),m.on("loadImageSyncChange",e.onLISChange),m.on("showItemStatusChange",e.on_SHOW_ITEM_STATUS_Change),m.on("fastDLChange",e.on_FAST_DL_STATUS_Change),m.on("themeChanged",e.on_DARK_MODE_STATUS_changed)},e.componentWillUnmount=function(){m.off("loadImageSyncChange",e.onLISChange),m.off("showItemStatusChange",e.on_SHOW_ITEM_STATUS_Change),m.off("fastDLChange",e.on_FAST_DL_STATUS_Change),m.off("themeChanged",e.on_DARK_MODE_STATUS_changed)},e.on_DARK_MODE_STATUS_changed=function(t){e.darkModeToggleRef.current.checked="dark"===t},e.onLISChange=function(t){e.loadImageSyncToggle.current.checked=t},e.on_SHOW_ITEM_STATUS_Change=function(t){e.showItemStatusToggle.current.checked=t},e.on_FAST_DL_STATUS_Change=function(t){e.fastDLToggle.current.checked=t},e.onTouchStart=function(t){e.startTime=(new Date).getTime(),e.startPoint=t.touches[0].clientX,e.endPoint=e.startPoint,e.isOpen?(e.allowMove=!0,e.drawerBgRef.current.style.display="block"):e.startPoint<=e.threshold&&(console.log("start"),e.allowMove=!0,e.drawerBgRef.current.style.display="block")},e.onTouchMove=function(t){window.requestAnimationFrame((function(){if(!0===e.allowMove){e.endPoint=t.touches[0].clientX;var n=e.currentPosition+(e.endPoint-e.startPoint);n>256&&(n=256),console.log(e.currentPosition),e.drawerCardRef.current.style.transform="translateX(".concat(n,"px)"),e.drawerBgRef.current.style.opacity=n/256}}))},e.onTouchEnd=function(t){var n=e.currentPosition+(e.endPoint-e.startPoint);if(console.log("distance: ",n),e.startPoint!==e.endPoint&&!0===e.allowMove){var a="";e.endTime=(new Date).getTime();var r=e.endTime-e.startTime,o=!1;r>300&&(r=300),r<80&&(r=100,o=!0),console.log(r),console.log("".concat(e.startPoint," / ").concat(e.endPoint)),e.startPoint<e.endPoint?a="right":e.startPoint>e.endPoint&&(a="left"),o?"right"===a?e.slideToRight(r):e.slideToLeft(r):"right"===a?n>84.48?e.slideToRight(r):e.slideToLeft(r):n<168.96?e.slideToLeft(r):e.slideToRight(r),e.allowMove=!1}},e.wait=function(e){return new Promise((function(t,n){setTimeout((function(){t()}),e)}))},e.slideToRight=function(){var t=Object(p.a)(f.a.mark((function t(n,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&(e.drawerBgRef.current.style.display="block",e.drawerBgRef.current.style.opacity=0),t.next=3,e.wait(10);case 3:e.slideTimer&&clearTimeout(e.slideTimer),e.drawerCardRef.current.style.transition="all ".concat(n,"ms"),e.drawerCardRef.current.style.transform="translateX(256px)",e.drawerBgRef.current.style.transition="all ".concat(n,"ms"),e.drawerBgRef.current.style.opacity=1,e.slideTimer=setTimeout((function(){e.drawerCardRef.current.style.transition="none",e.drawerBgRef.current.style.transition="none",e.drawerBgRef.current.style.display="block",e.isOpen=!0,e.currentPosition=256}),n);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.slideToLeft=function(){var t=Object(p.a)(f.a.mark((function t(n,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&(e.drawerBgRef.current.style.display="block",e.drawerBgRef.current.style.opacity=1),t.next=3,e.wait(10);case 3:e.slideTimer&&clearTimeout(e.slideTimer),e.drawerCardRef.current.style.transition="all ".concat(n,"ms"),e.drawerCardRef.current.style.transform="translateX(0px)",e.drawerBgRef.current.style.transition="all ".concat(n,"ms"),e.drawerBgRef.current.style.opacity=0,e.slideTimer=setTimeout((function(){e.drawerCardRef.current.style.transition="none",e.drawerBgRef.current.style.transition="none",e.drawerBgRef.current.style.display="none",e.isOpen=!1,e.currentPosition=0}),n);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.close=function(){e.slideToLeft(300,!0),document.removeEventListener("backbutton",e.close,!1)},e.open=function(){e.slideToRight(300,!0),document.addEventListener("backbutton",e.close,!1)},e.onDarkModeChange=function(e){e.checked?re("dark"):re("light")},e.onChange_loadImageSync=function(e){e.checked?G(1):G(0)},e.onChange_showItemStatusToggle=function(e){e.checked?$(1):$(0)},e.onChange_autoDeleteToggle=function(e){e.checked?ee(1):ee(0)},e.onChange_fastDLToggle=function(e){e.checked?ne(1):ne(0)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(o.createPortal)(r.a.createElement("div",{className:"drawer-con"},r.a.createElement("div",{className:"drawer-bg",ref:this.drawerBgRef,onClick:this.close}),r.a.createElement("div",{className:"drawer-card",ref:this.drawerCardRef},r.a.createElement("div",{className:"drawer-logo-con"},r.a.createElement("img",{src:se.a,alt:"logo"})),r.a.createElement(ie,{icon:r.a.createElement("span",null,"\ue88a"),label:"Home",to:"/"===window.base_url?"/":"/android_asset/www/index.html",onClick:function(){e.close()}}),r.a.createElement(ie,{icon:r.a.createElement("span",null,"\ue39d"),label:"Add New Story",to:"/add-story",onClick:function(){e.close()}}),r.a.createElement(ie,{icon:r.a.createElement("span",null,"\ue889"),label:"Recents",to:"/recents",onClick:function(){e.close()}}),r.a.createElement(ie,{icon:r.a.createElement("span",null,"\ue8b8"),label:"Settings",to:"/settings",onClick:function(){e.close()}}),r.a.createElement(ie,{icon:r.a.createElement("span",null,"\ue88e"),label:"About",to:"/about",onClick:function(){e.close()}}),r.a.createElement("h5",{style:{color:"var(--text-color)"}},"Quick Access Settings"),r.a.createElement("div",{className:"darkmode-toggle-holder"},r.a.createElement("div",{className:"dth-dm-lbl"},"Dark Mode"),r.a.createElement(oe,{ref:this.darkModeToggleRef,onChange:this.onDarkModeChange})),r.a.createElement("div",{className:"darkmode-toggle-holder"},r.a.createElement("div",{className:"dth-dm-lbl"},"Load Images Sync"),r.a.createElement(oe,{ref:this.loadImageSyncToggle,onChange:this.onChange_loadImageSync})),r.a.createElement("div",{className:"darkmode-toggle-holder"},r.a.createElement("div",{className:"dth-dm-lbl"},"Show Item Current Status"),r.a.createElement(oe,{ref:this.showItemStatusToggle,onChange:this.onChange_showItemStatusToggle})),r.a.createElement("div",{className:"darkmode-toggle-holder"},r.a.createElement("div",{className:"dth-dm-lbl"},"Fast Download"),r.a.createElement(oe,{ref:this.fastDLToggle,onChange:this.onChange_fastDLToggle})))),document.body)}}]),n}(a.Component),ue=n(14),me=n.n(ue),de=null;function he(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(null),i=Object(g.a)(s,2),l=i[0],u=i[1],d=e.data,h=new URL(d.url).hostname,v=Object(a.useRef)(null),b=Object(a.useRef)(null),E=Boolean(K());return Object(a.useEffect)((function(){if(E&&_(d.url).then((function(e){z.add(d.url,e);var t=e.chapters[0].date;t.match(/([0-9]+ \w+ [0-9]+|\w [0-9]+, [0-9]+|[0-9]+\/[0-9]+\/[0-9]+)/g)?(c(!1),u(new Date(t).toDateString())):(c(!0),u(t))})).catch(function(){var t=Object(p.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,z.get(d.url);case 3:(a=t.sent)?(r=a.chapters[0].date).match(/([0-9]+ \w+ [0-9]+|\w [0-9]+, [0-9]+|[0-9]+\/[0-9]+\/[0-9]+)/g)?(c(!1),u(new Date(r).toDateString())):(c(!0),u(r)):("function"===typeof e.onError&&e.onError(n),c(!1),u("????-??-??"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),""!==e.searchText){var t=b.current.textContent;console.log("to update: ",t,e.searchText);var n=e.searchText.trim().replace(/\s+/g," ").split(" ").map((function(e){return e.replace(/(\?|\.|\^|\$|\*|\+|\|)/g,"\\$1")})).join("|"),a=new RegExp("(".concat(n,")"),"gi");t=t.replace(a,'<span style="color: #f55;">$1</span>'),console.log(t),b.current.innerHTML=t}}),[]),r.a.createElement("div",{className:"hp2-item-con"},r.a.createElement("div",{className:"hp2-item-img-con"},r.a.createElement(F,{src:d.cover,ref:v,onCache:function(e,t){z.add(e,t)}}),o&&r.a.createElement("div",{className:"c-new-tag"},"NEW")),r.a.createElement("div",{className:"hp2-item-lbl-con"},r.a.createElement("div",{className:"hp2-item-title",ref:b},d.title),r.a.createElement("div",{className:"hp2-item-desc"},h),r.a.createElement("div",{style:{flex:1}}),E&&r.a.createElement("div",{className:"lupdate-lbl"},"Last Update: ",r.a.createElement("strong",null,l||"Loading..."))),r.a.createElement("div",{className:"hp2-item-navlink",onClick:function(){var e=v.current.getImageSource(),t="/story?url=".concat(encodeURIComponent(d.url));console.log(d),window.history.pushState({storyData:d,cover_base64:e},"",t),m.emit("pushstate")},onContextMenu:function(t){t.preventDefault(),e.onMoreClick()}}),r.a.createElement("button",{className:"hp2-item-more",onClick:e.onMoreClick,title:"More Options"},r.a.createElement(w,{name:"more_vert",fill:"#777",size:16})))}var fe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).logoTimer=null,e.componentDidMount=function(){Object(p.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me()(300);case 2:e.logoTimer&&clearTimeout(e.logoTimer),de?e.setState(de):e.loadStories(),e.logoTimer=setTimeout((function(){e.setState({logoAnimEnable:!0,showLogo:!0},(function(){e.logoBounce()}))}),500),window.addEventListener("resize",e.onWindowResize),m.on("url.added",e.onUrlAdded);case 7:case"end":return t.stop()}}),t)})))()},e.componentWillUnmount=function(){de=e.state,window.removeEventListener("resize",e.onWindowResize),m.off("url.added",e.onUrlAdded)},e.onUrlAdded=function(){e.loadStories()},e.logoBounce=function(){e.setState({logoAnimEnable:!0},(function(){e.logoTimer&&clearTimeout(e.logoTimer),e.logoTimer=setTimeout((function(){e.setState({logoAnimEnable:!1})}),600)}))},e.onWindowResize=function(){e.setState({searchBoxX:e.state.showSearchBox?"translateX(0px)":"translateX(".concat(window.screen.width,"px)")})},e.loadStories=function(){try{e.setState({list:[],isLoading:!0},(function(){S.getStories({search:e.state.search,limit:20,page:e.state.currentPage}).then((function(t){console.log(t),e.setState({isLoading:!1,list:t.results,total_page_count:t.total_page_count,currentPage:t.current_page})})).catch((function(e){alert("Error Loading Stories:"+e)}))}))}catch(t){alert("err:\n"+t)}},e.onPrevPage=function(){var t=e.state.currentPage-1;t<1&&(t=1),e.setState({currentPage:t},(function(){e.loadStories()}))},e.onNextPage=function(){var t=e.state.currentPage+1;t>e.state.total_page_count&&(t=e.state.total_page_count),e.setState({currentPage:t},(function(){e.loadStories()}))},e.searchTimer=null,e.onSearchChange=function(t){e.searchTimer&&clearTimeout(e.searchTimer),t.preventDefault(),e.setState({search:t.target.value,currentPage:1},(function(){e.searchTimer=setTimeout((function(){e.loadStories()}),600)}))},e.onItemOptionShow=function(t){e.lioRef.current.setOnDelete(Object(p.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.deleteStory(t.id);case 2:e.snackRef.current.show({message:"Successfully Deleted",mode:"success"}),e.loadStories();case 4:case"end":return n.stop()}}),n)})))).setOnOpen((function(){window.open(t.url)})).show({title:t.title,url:t.url})},e.addStory=function(t){e.setState({isLoading:!0},(function(){_(t).then((function(t){console.log(t),S.addStory({title:t.title,url:t.url,cover:t.cover,info_json:JSON.stringify(t.storyInfo),description:t.description}).then((function(t){console.log(t),e.loadStories()})).catch((function(t){e.setState({isLoading:!1}),console.log(t),6===t.code?alert("URL already exists."+(t.message?"\nError:\n"+t.message:"")):t.message?alert("Error: \n"+t.message):alert("Error: "+t)}))})).catch((function(e){throw console.log(e),alert("Error Getting Story Details:"+e),e}))}))},e.onFormSubmit=function(t){e.addStory(t)},e.onItemRequestError=function(t){e.snackRef.current.show({message:"Item request error: "+t,mode:"error"})},e.state={show:!0,list:[],isLoading:!1,total_page_count:1,currentPage:1,search:"",showSearchBox:!1,searchBoxX:"translateX(".concat(window.screen.width,"px)"),logoAnim:"hp2-logo-anim",logoAnimEnable:!1,showLogo:!1},e.currentURL="",e.formRef=r.a.createRef(),e.lioRef=r.a.createRef(),e.seachInRef=r.a.createRef(),e.snackRef=r.a.createRef(),e.drawerRef=r.a.createRef(),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"homepage2-con"},r.a.createElement("div",{className:"hp2-head"},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){e.drawerRef.current.open()},title:"Menu"},r.a.createElement(w,{name:"menu",fill:"#555"})),r.a.createElement("div",{style:{flex:1}}),this.state.showLogo&&r.a.createElement("img",{src:se.a,alt:"logo",className:"hp2-h-logo"+(this.state.logoAnimEnable?" "+this.state.logoAnim:""),id:"app-header-logo",onClick:function(t){e.logoBounce(),e.loadStories()}}),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){e.setState({showSearchBox:!0,searchBoxX:"translateX(0px)"},(function(){setTimeout((function(){e.seachInRef.current&&e.seachInRef.current.focus()}),400)}))},title:"Search Story"},r.a.createElement(w,{name:"search",fill:"#555"})),r.a.createElement("div",{className:"hp2-search-con",style:{transform:this.state.searchBoxX}},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){e.setState({showSearchBox:!1,searchBoxX:"translateX(".concat(window.screen.width,"px)")})},title:"Back"},r.a.createElement(w,{name:"arrow_back",fill:"#555"})),r.a.createElement("input",{type:"text",placeholder:"search..",className:"hp2-in",value:this.state.search,onChange:this.onSearchChange,ref:this.seachInRef}),r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){e.setState({search:"",currentPage:1},(function(){e.loadStories()}))},title:"Clear Search Text"},r.a.createElement(w,{name:"close",fill:"#555"})))),r.a.createElement("div",{className:"hp2-content"},this.state.isLoading?r.a.createElement("div",null,r.a.createElement("img",{src:H.a,alt:"loading"})):this.state.list.length>0?this.state.list.map((function(t,n){return r.a.createElement(he,{data:t,key:n,onMoreClick:function(){e.onItemOptionShow(t)},searchText:e.state.search,onError:e.onItemRequestError})})):r.a.createElement("div",{className:"no-story-found"},"No Story Found"),r.a.createElement("div",{style:{height:56}})),r.a.createElement("div",{className:"hp2-foot-con"},r.a.createElement("div",{className:"hp2-pg-con"},r.a.createElement("button",{className:"hp2-h-btn2",onClick:this.onPrevPage,title:"Previous Page",disabled:this.state.currentPage<=1},r.a.createElement(w,{name:"arrow_back",fill:"#777"})),r.a.createElement("div",{className:"hp2-pg-curr-lbl"},"Page ",this.state.currentPage," / ",this.state.total_page_count>0?this.state.total_page_count:1),r.a.createElement("button",{className:"hp2-h-btn2",onClick:this.onNextPage,title:"Next Page",disabled:this.state.currentPage>=this.state.total_page_count},r.a.createElement(w,{name:"arrow_forward",fill:"#777"})),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("button",{className:"hp2-h-btn3",onClick:function(){window.history.pushState(null,"","/add-story"),m.emit("pushstate")}},r.a.createElement(w,{name:"add",fill:"#777"}),"Add Story"))),r.a.createElement(V,{ref:this.formRef,onSubmit:this.onFormSubmit}),r.a.createElement(Z,{ref:this.lioRef}),r.a.createElement(Y,{ref:this.snackRef}),r.a.createElement(le,{ref:this.drawerRef}))}}]),n}(a.Component),pe=(n(34),{db:null,init:function(e){var t=this,n=window.indexedDB.open("recents");n.onerror=function(){alert("Error opening Database")},n.onsuccess=function(n){t.db=n.target.result,"function"===typeof e&&e()},n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("tbl_recents")||t.createObjectStore("tbl_recents",{autoIncrement:!0}).createIndex("dateAdded","dateAdded",{unique:!0})}}});var ge={add:function(e){return new Promise((function(t,n){console.log("to add to recent: ",e);var a=new Date;e.dateAdded=a.getTime(),pe.db.transaction("tbl_recents","readwrite").objectStore("tbl_recents").add(e),t("ok")}))},getAll:function(e,t){return new Promise((function(n,a){!function a(){var r=[];pe.db?pe.db.transaction("tbl_recents","readwrite").objectStore("tbl_recents").openCursor().onsuccess=function(a){var o=a.target.result;if(o)r.push(Object(E.a)({id:o.key},o.value)),o.continue();else{for(var c=[],s=(r=r.reverse()).length,i=e*(t-1),l=0;l<e;l++){var u=i+l;if(u>=s)break;c.push(r[u])}n({data:c,overAllSize:s,total_page_count:Math.ceil(s/e)})}}:setTimeout(a,1e3)}()}))},clearAll:function(){return new Promise((function(e,t){pe.db.transaction("tbl_recents","readwrite").objectStore("tbl_recents").clear(),e("ok")}))}},ve=!0;function we(e){ve=e}function be(){return ve}function Ee(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function ye(e){var t=null,n=null,a=null,r=new Promise(function(){var r=Object(p.a)(f.a.mark((function r(o,c){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:_(e).then(function(){var r=Object(p.a)(f.a.mark((function r(s){var i,l,u;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:z.add(e,s),"function"===typeof a&&a(Object.assign({},s)),i=s.chapters,l=f.a.mark((function e(a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==be()){e.next=3;break}return o({message:"Stopped",url:i[a].url}),e.abrupt("return","break");case 3:return r=i[a],e.next=6,Se(r.url).setOnProgress((function(e,t,a){"function"===typeof n&&n(e,t,r.title,r.url,a)})).then((function(e){"Stopped"===e.message?("function"===typeof t&&t(e.url,r.title,a+1,i.length,!1),o(e)):("function"===typeof t&&t(e.url,r.title,a+1,i.length,!0),a>=i.length-1&&o(e))})).catch((function(e){c(e)}));case 6:case"end":return e.stop()}}),e)})),u=0;case 5:if(!(u<i.length)){r.next=13;break}return r.delegateYield(l(u),"t0",7);case 7:if("break"!==r.t0){r.next=10;break}return r.abrupt("break",13);case 10:u++,r.next=5;break;case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}());return r.setOnProgress=function(e){return"function"===typeof e&&(t=e),r},r.setOnChapterProgress=function(e){return"function"===typeof e&&(n=e),r},r.onReceiveDetails=function(e){return"function"===typeof e&&(a=e),r},r}function Se(e){var t=null,n=new Promise(function(){var n=Object(p.a)(f.a.mark((function n(a,r){var o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z.get(e);case 2:if(o=n.sent){n.next=8;break}return n.next=6,R(e).catch((function(e){r(e)}));case 6:(o=n.sent)&&z.add(e,o);case 8:return n.next=10,Ce(o).setOnProgress((function(e,n,a){"function"===typeof t&&t(e,n,a)})).then((function(t){a("Stopped"===t?{message:"Stopped",url:e}:{message:"Done Downloading Images",url:e})})).catch((function(e){r(e)}));case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}());return n.setOnProgress=function(e){return"function"===typeof e&&(t=e),n},n}function Ce(e){var t=0,n=null,a=new Promise(function(){var a=Object(p.a)(f.a.mark((function a(r,o){var c,s,i;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=13;break}c=f.a.mark((function a(c){var s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!1!==be()){a.next=3;break}return r("Stopped"),a.abrupt("return",{v:void 0});case 3:return s=e[c],a.next=6,z.get(s).catch((function(e){o(e)}));case 6:if(a.sent){a.next=18;break}if(!Boolean(te())){a.next=14;break}return D(s).then((function(a){t++,z.add(s,a),t>=e.length&&r("ok"),"function"===typeof n&&n(t,e.length,s)})).catch((function(e){o(e)})),a.next=12,Ee(200);case 12:a.next=16;break;case 14:return a.next=16,D(s).then((function(a){t++,z.add(s,a),t>=e.length&&r("ok"),"function"===typeof n&&n(t,e.length,s)})).catch((function(e){o(e)}));case 16:a.next=21;break;case 18:++t>=e.length&&r("ok"),"function"===typeof n&&n(t,e.length,s);case 21:case"end":return a.stop()}}),a)})),s=0;case 3:if(!(s<e.length)){a.next=11;break}return a.delegateYield(c(s),"t0",5);case 5:if("object"!==typeof(i=a.t0)){a.next=8;break}return a.abrupt("return",i.v);case 8:s++,a.next=3;break;case 11:a.next=14;break;case 13:o("Paramter passed was not an array");case 14:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());return a.setOnProgress=function(e){return"function"===typeof e&&(n=e),a},a.setOnAbort=function(e){},a}var xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this))._onDelete=null,e._onOpen=null,e._onDownload=null,e.show=function(t){document.addEventListener("backbutton",e.hide,!1),e.setState(Object(E.a)({show:!0},t),(function(){setTimeout((function(){e.setState({cardClass:"translateY(0%) translateZ(0px)",bgClass:1})}),10)}))},e.hide=function(){document.removeEventListener("backbutton",e.hide),e.setState({cardClass:"translateY(100%) translateZ(0px)",bgClass:0},(function(){setTimeout((function(){e.setState({show:!1,value:"",title:""})}),300)}))},e.setShowDeleteButton=function(t){return e.setState({showDeleteBotton:t}),Object(W.a)(e)},e.setOnDelete=function(t){return"function"===typeof t&&(e._onDelete=t),Object(W.a)(e)},e.setOnDownload=function(t){return"function"===typeof t&&(e._onDownload=t),Object(W.a)(e)},e.setOnOpen=function(t){return"function"===typeof t&&(e._onOpen=t),Object(W.a)(e)},e.onDelete=function(){"function"===typeof e._onDelete&&(e._onDelete(),e.hide())},e.onOpen=function(){"function"===typeof e._onOpen&&(e._onOpen(),e.hide())},e.onDownload=function(){"function"===typeof e._onDownload&&(e._onDownload(),e.hide())},e.state={show:!1,value:"",title:"",url:"",cardClass:"translateY(100%) translateZ(0px)",bgClass:0,showDeleteBotton:!0},e}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createPortal(this.state.show?r.a.createElement("div",{className:"lio-con"},r.a.createElement("div",{className:"lio-bg",onClick:this.hide,style:{opacity:this.state.bgClass}}),r.a.createElement("div",{className:"lio-card",style:{transform:this.state.cardClass}},r.a.createElement("div",{className:"lio-head"},r.a.createElement("div",{className:"lio-head-title"},r.a.createElement("div",null,this.state.title))),r.a.createElement("div",{className:"lio-content lio-btns"},r.a.createElement("button",{onClick:this.onOpen},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:"list",fill:"#777"})),r.a.createElement("div",null,"Open Chapter")),!this.state.showDeleteBotton&&r.a.createElement("button",{onClick:this.onDownload},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:"cloud_download",fill:"#777"})),r.a.createElement("div",null,"Download Chapter")),this.state.showDeleteBotton&&r.a.createElement("button",{onClick:this.onDelete},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:"delete",fill:"#777"})),r.a.createElement("div",null,"Delete Downloaded Chapter")),r.a.createElement("button",{onClick:this.hide},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:"close",fill:"#777"})),r.a.createElement("div",null,"Close"))))):r.a.createElement(r.a.Fragment,null),document.body)}}]),n}(a.Component),ke=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this))._onOpen=null,e.show=function(t){return document.addEventListener("backbutton",e.hide,!1),e.setState(Object(E.a)({show:!0},t),(function(){setTimeout((function(){e.setState({cardClass:"translateY(0%) translateZ(0px)",bgClass:1})}),10)})),Object(W.a)(e)},e.hide=function(){return document.removeEventListener("backbutton",e.hide),e.setState({cardClass:"translateY(100%) translateZ(0px)",bgClass:0},(function(){setTimeout((function(){e.setState({show:!1,value:"",title:"",buttons:[]})}),300)})),Object(W.a)(e)},e.setOnOpen=function(t){return"function"===typeof t&&(e._onOpen=t),Object(W.a)(e)},e.onOpen=function(){"function"===typeof e._onOpen&&(e._onOpen(),e.hide())},e.state={show:!1,value:"",title:"",url:"",cardClass:"translateY(100%) translateZ(0px)",bgClass:0,buttons:[]},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return c.a.createPortal(this.state.show?r.a.createElement("div",{className:"lio-con"},r.a.createElement("div",{className:"lio-bg",onClick:this.hide,style:{opacity:this.state.bgClass}}),r.a.createElement("div",{className:"lio-card",style:{transform:this.state.cardClass}},r.a.createElement("div",{className:"lio-head"},r.a.createElement("div",{className:"lio-head-title"},r.a.createElement("div",null,this.state.title))),r.a.createElement("div",{className:"lio-content lio-btns"},this.state.buttons.map((function(t,n){return r.a.createElement("button",{onClick:function(n){"function"===typeof t.onClick&&t.onClick(n,e),e.hide()},key:n},r.a.createElement("div",{className:"lio-btn-ico"},r.a.createElement(w,{name:t.iconName,fill:"#777"})),r.a.createElement("div",null,t.text))}))))):r.a.createElement(r.a.Fragment,null),document.body)}}]),n}(a.Component),Ne=function(e){var t=e.item,n=e.context,o=e.index,c=r.a.createRef(),s="/chapter?url=".concat(encodeURIComponent(t.url)),i=Object(a.useState)(!1),l=Object(g.a)(i,2),u=l[0],d=l[1],h=Object(a.useState)(!1),v=Object(g.a)(h,2),y=v[0],S=v[1],C=Object(a.useState)(0),x=Object(g.a)(C,2),k=x[0],N=x[1],O=function(){window.history.pushState({chapterList:Object(b.a)(n.state.chapters).reverse(),currentChapter:t,currentIndex:o,storyTitle:n.state.title,cover:n.state.raw_cover},"",s),m.emit("pushstate"),ge.add(Object(E.a)(Object(E.a)({},t),{},{storyTitle:n.state.title,cover:n.state.raw_cover}))},_=function(e){var n=e.url,a=e.mode;if(n===t.url){var r=!0;!1===a&&(r=!1),d(r)}};return Object(a.useEffect)((function(){return m.on("dl.chap.done",_),Object(p.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get(t.url);case 2:n=e.sent,d(!!n);case 4:case"end":return e.stop()}}),e)})))(),function(){m.off("dl.chap.done",_)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:o,className:"si2-con",onClick:function(e){console.log("fired a.onClick: ",e.target.outerHTML),O(),e.preventDefault()},onContextMenu:function(e){e.preventDefault(),n.CLIORef.current.setShowDeleteButton(u).setOnOpen((function(){setTimeout((function(){O()}),350)})).setOnDownload((function(){!1===be()&&we(!0),S(!0),Se(t.url).setOnProgress((function(e,t,n){var a=Math.floor(e/t*100);console.log("_per: ",a),N(a)})).then((function(){P.add(t.url,t.title),d(!0),S(!1)})).catch((function(){S(!1)}))})).setOnDelete(Object(p.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=Object(p.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.deleteSingle(t.url);case 2:return e.next=4,z.deleteByChapter(t.url);case 4:a=e.sent,console.log("deleted: ",a),d(!1),n.snackRef.current.show({message:"Successfully Deleted "+t.title,mode:"success"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.current.show({title:'Delete "'.concat(t.title,'" from downloads?'),buttons:[{text:"YES",iconName:"delete",onClick:function(e){a()}},{text:"NO",iconName:"close",onClick:function(e){console.log("NO")}}]});case 2:case"end":return e.stop()}}),e)})))).show({title:t.title,url:t.url})}},r.a.createElement("div",{style:{flex:1,textAlign:"left"}},r.a.createElement("div",{className:"si2-title noselect"},t.title),r.a.createElement("div",{className:"si2-date noselect"},n.getDayName(t.date)),u&&r.a.createElement("div",{className:"si2-dl-lbl noselect"},"Downloaded")),r.a.createElement("div",{className:"sp2-item-number noselect"},"#",Number(n.state.chapters.length-o).toLocaleString()),y&&r.a.createElement("div",{className:"ci-dl-prog-con"},r.a.createElement("div",{className:"ci-dl-prog-bar",style:{width:"".concat(k,"%")}}),r.a.createElement("div",{className:"ci-dl-prog-bar-lbl"},k,"%")),r.a.createElement(w,{name:"arrow_forward_ios",fill:"#AAA",size:16})),r.a.createElement(ke,{ref:c}))},Oe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).componentDidMount=function(){Object(p.a)(f.a.mark((function t(){var n,a,r,o,c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me()(300);case 2:e.checkIfExistOnTheDatabase(),window.history.state&&window.history.state.storyData&&(n=window.history.state.storyData,a=n.title,r=n.url,o=n.info_json,c=n.description,s=window.history.state.cover_base64,e.setState({title:a,cover:s,url:r,info:JSON.parse(o),description:c,raw_cover:window.history.state.storyData.cover},(function(){Object(p.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!String(s).match(H.a)&&null!==s){t.next=5;break}return t.next=3,D(window.history.state.storyData.cover);case 3:n=t.sent,e.setState({cover:n,raw_cover:window.history.state.storyData.cover},(function(){}));case 5:case"end":return t.stop()}}),t)})))(),console.log("raw cover: ",e.state.raw_cover)}))),e.loadStory();case 5:case"end":return t.stop()}}),t)})))()},e.checkIfExistOnTheDatabase=function(){var t=new URL(window.location.href).searchParams.get("url");console.log(t),S.getStoriesByURL(t).then((function(t){t.length>0?e.setState({showAddButton:!1}):e.setState({showAddButton:!0})}))},e.loadStory=function(){e.setState({isLoading:!0},Object(p.a)(f.a.mark((function t(){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n=new URL(window.location.href).searchParams.get("url")).then((function(t){console.log("url: ",n),500!==t.status&&(z.add(n,t),e.setState({chapters:t.chapters,isLoading:!1,info:t.storyInfo},(function(){window.history.state||e.setState({title:t.title,url:t.url,raw_cover:t.cover,info:t.storyInfo,description:t.description},Object(p.a)(f.a.mark((function n(){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!String(e.state.cover).match(H.a)&&null!==e.state.cover){n.next=5;break}return n.next=3,D(t.cover);case 3:a=n.sent,e.setState({cover:a},(function(){console.log("raw cover: ",e.state.raw_cover)}));case 5:case"end":return n.stop()}}),n)}))))})))})).catch((function(e){a()})),a=function(){var t=Object(p.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get(n);case 2:if(a=t.sent){t.next=5;break}return t.abrupt("return");case 5:e.setState({chapters:a.chapters,isLoading:!1,info:a.storyInfo},(function(){window.history.state||e.setState({title:a.title,url:a.url,raw_cover:a.cover,info:a.storyInfo,description:a.description},Object(p.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!String(e.state.cover).match(H.a)&&null!==e.state.cover){t.next=5;break}return t.next=3,D(a.cover);case 3:n=t.sent,e.setState({cover:n},(function(){console.log("raw cover: ",e.state.raw_cover)}));case 5:case"end":return t.stop()}}),t)}))))}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();case 3:case"end":return t.stop()}}),t)}))))},e.getLimitChars=function(e){return e.length>75?"".concat(e.substr(0,75),"..."):e},e.gotoInfoPage=function(){window.history.pushState({title:e.state.title,info:e.state.info,description:e.state.description,url:e.state.url,cover:e.state.cover,raw_cover:e.state.raw_cover},"","/story-info"),m.emit("pushstate")},e.getDayName=function(e){return e.match(/([0-9]+ \w+ [0-9]+|\w [0-9]+, [0-9]+)/g)?new Date(e).toDateString():e},e.state={show:!1,chapters:[],isLoading:!1,title:"Loading Story",cover:null,info:{},url:null,showAddButton:!1,raw_cover:"",coverWindowHeight:272,disableDlBtn:!1},e.contentRef=r.a.createRef(),e.snackRef=r.a.createRef(),e.CLIORef=r.a.createRef(),e.CMRef=r.a.createRef(),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sp2-con"},r.a.createElement("div",{className:"sp2-cover-holder"},this.state.cover&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:this.state.cover,className:"sp2-cover-bg",alt:"cover"}),r.a.createElement("div",{className:"sp2-cp-con"},r.a.createElement("img",{src:this.state.cover,className:"sp2-cover-pic",alt:"cover"})))),r.a.createElement("div",{className:"sp2-nav"},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){window.history.back()},title:"Back to List"},r.a.createElement(w,{name:"arrow_back",fill:"#fff"})),r.a.createElement("div",{style:{flex:1}}),!this.state.isLoading&&this.state.showAddButton&&r.a.createElement("button",{className:"hp2-h-btn",onClick:function(t){t.target.disabled=!0,S.addStory({title:e.state.title,url:e.state.url,cover:e.state.raw_cover,description:e.state.description,info_json:JSON.stringify(e.state.info)}).then((function(t){console.log(t),e.setState({showAddButton:!1}),e.snackRef.current.show({message:"Successfully Added to List",mode:"success"}),m.emit("url.added",null)})).catch((function(t){console.log(t),e.setState({showAddButton:!0})}))},title:"Add Story to List",style:{position:"relative",overflow:"visible"}},r.a.createElement(w,{name:"add",fill:"#fff"}),!this.state.isLoading&&this.state.showAddButton&&r.a.createElement("div",{className:"pop-add-to-list"},"Add to List")),!this.state.isLoading&&r.a.createElement("button",{className:"hp2-h-btn",title:"Download Story",disabled:this.state.disableDlBtn,onClick:function(){var t=function(){var t=Object(p.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!1===be()&&we(!0),m.emit("dl.show",null),e.setState({disableDlBtn:!0}),ye(e.state.url).onReceiveDetails((function(e){m.emit("dl.receive.story",e)})).setOnProgress((function(e,t,n,a,r){r&&(P.add(e,t),m.emit("dl.chap.done",{url:e,chapTitle:t,indx:n,tot:a,stat:r}))})).setOnChapterProgress((function(e,t,n,a,r){m.emit("dl.img.prog",{index:e,total:t,chapTitle:n,chapUrl:a,imgUrl:r})})).then((function(t){m.emit("dl.progress",{message:"Stopped"===t.message?t.message:"Downloaded All Chapters",mode:"success"}),e.setState({disableDlBtn:!1}),m.emit("dl.hide",null)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.CMRef.current.show({title:"Download All Chapters?",buttons:[{text:"YES",iconName:"cloud_download",onClick:function(e){t()}},{text:"CANCEL",iconName:"close",onClick:function(e){console.log("NO")}}]})}},r.a.createElement(w,{name:"cloud_download",fill:"#fff"})),!this.state.isLoading&&r.a.createElement("button",{className:"hp2-h-btn",title:"Delete Story Caches",disabled:this.state.disableDlBtn,onClick:function(){e.CMRef.current.show({title:"Delete all saved chapters?",buttons:[{text:"YES",iconName:"delete",onClick:function(t){z.deleteByStory(e.state.url).then((function(e){console.log(e),m.emit("dl.progress",{message:"Deleted Story Caches Successfully",mode:"success"})}))}},{text:"NO",iconName:"close",onClick:function(e){console.log("NO")}}]})}},r.a.createElement(w,{name:"delete",fill:"#fff"}))),r.a.createElement("div",{className:"sp2-content-holder"},r.a.createElement("div",{className:"sp2-cover-window",style:{height:this.state.coverWindowHeight}},r.a.createElement("div",{className:"sp2-title",onClick:this.gotoInfoPage},this.state.title),r.a.createElement("div",{className:"sp2-src-site"},"From:",r.a.createElement("a",{href:this.state.url,onClick:function(t){t.preventDefault(),window.open(e.state.url)}},r.a.createElement("strong",null,this.state.url&&function(){var t=new URL(e.state.url).hostname;return r.a.createElement("span",null,t)}()))),r.a.createElement("div",{className:"sp2-desc",onClick:this.gotoInfoPage},this.getLimitChars(this.state.description||"")),this.state.chapters.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sp2-top-btns"},r.a.createElement("button",{className:"btn-re1",onClick:function(){console.log(e.state);var t=e.state.chapters[e.state.chapters.length-1],n="/chapter?url=".concat(encodeURIComponent(t.url));window.history.pushState({chapterList:Object(b.a)(e.state.chapters).reverse(),currentChapter:t,currentIndex:e.state.chapters.length-1,storyTitle:e.state.title,cover:e.state.raw_cover},"",n),m.emit("pushstate"),ge.add(Object(E.a)(Object(E.a)({},t),{},{storyTitle:e.state.title,cover:e.state.raw_cover}))}},"Read First Chapter"),r.a.createElement("button",{className:"btn-re1",onClick:function(){console.log(e.state);var t=e.state.chapters[0],n="/chapter?url=".concat(encodeURIComponent(t.url));window.history.pushState({chapterList:Object(b.a)(e.state.chapters).reverse(),currentChapter:t,currentIndex:0,storyTitle:e.state.title,cover:e.state.raw_cover},"",n),m.emit("pushstate"),ge.add(Object(E.a)(Object(E.a)({},t),{},{storyTitle:e.state.title,cover:e.state.raw_cover}))}},"Read Last Chapter")))),r.a.createElement("div",{className:"sp2-content noselect",ref:this.contentRef,style:{minHeight:window.innerHeight-(this.state.coverWindowHeight+56)}},r.a.createElement("h3",null,"Chapters"),this.state.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:H.a,alt:"loading"})):this.state.chapters.map((function(t,n){return r.a.createElement(Ne,{item:t,index:n,context:e,key:n})})))),r.a.createElement(Y,{ref:this.snackRef}),r.a.createElement(xe,{ref:this.CLIORef}),r.a.createElement(ke,{ref:this.CMRef}))}}]),n}(a.Component);n(35),n(36);var _e=function(e){return r.a.createElement("div",{className:"logo-loading-con",style:e.style},r.a.createElement("img",{src:se.a,alt:"logo-loading"}))},Te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loadingURL:window.base_url+"loading.svg",isActive:!1},e.isActive=!1,e.componentDidMount=function(){e.isActive=!0,e.loadImages()},e.componentWillUnmount=function(){e.isActive=!1},e.loadImages=Object(p.a)(f.a.mark((function t(){var n,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=f.a.mark((function t(n){var a,r,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e.isActive){t.next=2;break}return t.abrupt("return","break");case 2:return a=e.props.list[n],console.log("currentURL",a),t.next=6,z.get(a);case 6:if(!(r=t.sent)){t.next=16;break}if(console.log("** from cache **"),!1!==e.isActive){t.next=11;break}return t.abrupt("return",{v:void 0});case 11:console.log("Done!",e.isActive),(o=document.querySelector('img[data-src="'.concat(a,'"]')))&&(o.src=r),t.next=18;break;case 16:return t.next=18,D(a).then((function(t){if(!1!==e.isActive){console.log("Done!",e.isActive);var n=document.querySelector('img[data-src="'.concat(a,'"]'));n&&(n.src=t)}})).catch((function(t){if(!1!==e.isActive){var n=document.querySelector('img[data-src="'.concat(a,'"]'));n&&(n.src=t)}}));case 18:case"end":return t.stop()}}),t)})),a=0;case 3:if(!(a<e.props.list.length)){t.next=15;break}return t.delegateYield(n(a),"t0",5);case 5:r=t.t0,t.t1=r,t.next="break"===t.t1?9:10;break;case 9:return t.abrupt("break",15);case 10:if("object"!==typeof r){t.next=12;break}return t.abrupt("return",r.v);case 12:a++,t.next=3;break;case 15:t.next=20;break;case 17:throw t.prev=17,t.t2=t.catch(0),t.t2;case 20:case"end":return t.stop()}}),t,null,[[0,17]])}))),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.list&&this.props.list.map((function(t,n){return r.a.createElement("img",{src:e.state.loadingURL,alt:e.props.alt||"Image Here",className:e.props.className,"data-src":t,key:n})})))}}]),n}(r.a.Component),Re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).componentDidMount=function(){Object(p.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me()(300);case 2:window.history.state?e.loadDataFromHistory():e.loadDataFromHref(),e.pgCon.current.addEventListener("scroll",e.onScroll);case 4:case"end":return t.stop()}}),t)})))()},e.componentWillUnmount=function(){e.pgCon.current.removeEventListener("scroll",e.onScroll)},e.onScroll=function(t){var n=t.target.scrollTop+t.target.clientHeight;!0===e.state.showNav&&e.setState({showNav:!1}),(n<=t.target.clientHeight||Math.ceil(n)>=t.target.scrollHeight)&&e.onReachEdge()},e.onReachEdge=function(){!1===e.state.showNav&&e.setState({showNav:!0})},e.scrollTimer=null,e.scrollToTop=function(){e.scrollTimer&&clearInterval(e.scrollTimer);e.scrollTimer=window.requestAnimationFrame((function t(){var n=e.pgCon.current.scrollTop-e.pgCon.current.scrollTop/6;n<1&&n>0&&(n=Math.floor(n)),e.pgCon.current.scrollTop=n,console.log(n),e.pgCon.current.scrollTop>0&&(e.scrollTimer=window.requestAnimationFrame(t))}))},e.scrollToPosition=function(){var t=Math.round(e.pgCon.current.scrollTop+.75*window.screen.height);e.smoothScroll(t,700)},e.onMouseDownImageCon=function(){e.animID&&window.cancelAnimationFrame(e.animID),e.scrollTimer&&window.cancelAnimationFrame(e.scrollTimer)},e.animID=null,e.smoothScroll=function(t,n){e.animID&&window.cancelAnimationFrame(e.animID);var a=t,r=e.pgCon.current.scrollTop,o=a-r,c=null;window.requestAnimationFrame((function a(s){null===c&&(c=s);var i,l,u,m=s-c,d=Math.round((i=m,l=r,u=n,o*(1-Math.pow(2,-10*i/u))+l));console.log(t+" / "+d),console.log(d),e.pgCon.current.scrollTop=d,m<=n&&(e.animID=window.requestAnimationFrame(a))}))},e.getCurrentChapterIndex=function(e,t){return t.findIndex((function(t){return!!t.url.match(e)}))},e.loadDataFromHref=function(){var t=new URL(window.location.href).searchParams.get("url");console.log(t);var n=t.replace(/\/[^/]+\/?$/,"/");e.setState({isLoading:!0,images:[]}),_(n).then((function(a){if(!1!==e.state.show){z.add(n,a),console.log(a),a.chapters=a.chapters.reverse();var r=e.getCurrentChapterIndex(t,a.chapters),o=a.chapters[r];e.setState({currentChapter:o,currentIndex:r,title:o.title,url:o.url,date:o.date,chapterList:a.chapters,storyTitle:a.title,cover:a.cover},(function(){e.chapterPrevIndex=r-1,e.chapterNextIndex=r+1,e.loadImages()}))}})).catch(Object(p.a)(f.a.mark((function a(){var r,o,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,z.get(n);case 2:(r=a.sent)&&(r.chapters=r.chapters.reverse(),o=e.getCurrentChapterIndex(t,r.chapters),c=r.chapters[o],e.setState({currentChapter:c,currentIndex:o,title:c.title,url:c.url,date:c.date,chapterList:r.chapters,storyTitle:r.title,cover:r.cover},(function(){e.chapterPrevIndex=o-1,e.chapterNextIndex=o+1,e.loadImages()})));case 4:case"end":return a.stop()}}),a)}))))},e.loadDataFromHistory=function(){if(window.history.state&&window.history.state.currentChapter){var t=window.history.state.currentChapter.url,n=[];window.history.state.chapterList&&(n=window.history.state.chapterList);var a=0;"number"===typeof window.history.state.currentIndex&&(a=e.getCurrentChapterIndex(t,n),console.log("currentIndex: ",a)),e.chapterNextIndex=a+1,e.chapterPrevIndex=a-1;var r=window.history.state.currentChapter,o=r.title,c=r.url,s=r.date;e.setState({title:o,url:c,date:s,chapterList:n,currentIndex:a,currentChapter:window.history.state.currentChapter,storyTitle:window.history.state.storyTitle,cover:window.history.state.cover},(function(){e.loadImages(e.state.url)}))}},e.loadImages=function(t){var n=t;n||(n=new URL(window.location.href).searchParams.get("url")),e.setState({isLoading:!0}),R(n).then((function(t){z.add(n,t),e.setState({isLoading:!1,images:t},(function(){}))})).catch(Object(p.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get(n);case 2:(a=t.sent)?e.setState({isLoading:!1,images:a},(function(){})):e.setState({isLoading:!1},(function(){}));case 4:case"end":return t.stop()}}),t)}))))},e.onChapterChange=function(t){var n=e.state.chapterList[t],a=n.url,r=n.title,o=n.date;console.log("cover before set: ",e.state.cover),e.setState({currentIndex:t,url:a,title:r,date:o,currentChapter:n},(function(){e.chapterNextIndex=e.state.currentIndex+1,e.chapterPrevIndex=e.state.currentIndex-1;var t="/chapter?url=".concat(encodeURIComponent(a)),n={chapterList:e.state.chapterList,currentChapter:e.state.currentChapter,currentIndex:e.state.currentIndex,storyTitle:e.state.storyTitle,cover:e.state.cover};window.history.replaceState(n,"",t),e.loadImages(),console.log("cover after set: ",e.state.cover)})),ge.add(Object(E.a)({storyTitle:e.state.storyTitle,cover:e.state.cover},n))},e.state={title:"Loading Chapter",url:null,date:null,chapterList:[],currentIndex:0,images:[],showNav:!0,isLoading:!1,currentChapter:null,storyTitle:"",cover:null,imgLoadAll:Boolean(Q())},e.pgCon=r.a.createRef(),e.chapterPrevIndex=null,e.chapterNextIndex=null,e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cp2-con",ref:this.pgCon,"data-id":"image-scroll"},r.a.createElement("div",{className:"cp2-content",onTouchStart:this.onMouseDownImageCon,onClick:function(){e.setState({showNav:!e.state.showNav})}},this.state.isLoading?r.a.createElement(_e,null):this.state.imgLoadAll?this.state.images.map((function(e,t){return r.a.createElement(F,{src:e,key:t})})):r.a.createElement(Te,{list:this.state.images}))),r.a.createElement("div",{className:"cp2-head",style:{transform:this.state.showNav?"translateY(0px)":"translateY(-56px)"}},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){window.history.back()}},r.a.createElement(w,{name:"list",fill:"#fff"})),r.a.createElement("div",{className:"cp2-title"},this.state.title)),r.a.createElement("div",{className:"cp2-foot",style:{transform:this.state.showNav?"translateY(0px)":"translateY(56px)"}},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){e.scrollToTop()}},r.a.createElement(w,{name:"arrow_up",fill:"#fff"})),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("button",{className:"hp2-h-btn",disabled:!this.state.chapterList[this.chapterPrevIndex],onClick:function(){e.onChapterChange(e.chapterPrevIndex)}},r.a.createElement(w,{name:"arrow_left",fill:"#fff",style:{transform:"scale(1.5)"}})),r.a.createElement("div",{className:"cp2-story-index-lbl"},Number(this.state.currentIndex+1).toLocaleString()," / ",Number(this.state.chapterList.length).toLocaleString()),r.a.createElement("button",{className:"hp2-h-btn",disabled:!this.state.chapterList[this.chapterNextIndex],onClick:function(){e.onChapterChange(e.chapterNextIndex)}},r.a.createElement(w,{name:"arrow_right",fill:"#fff",style:{transform:"scale(1.5)"}})),r.a.createElement("button",{className:"hp2-h-btn foot-over fo-cen",onClick:function(){e.scrollToPosition()}},r.a.createElement(w,{name:"arrow_down",fill:"#fff"}))))}}]),n}(a.Component),Le=(n(37),["https://webtoon.xyz/","https://mangaclash.com/","https://manhwa.club/","https://manytoon.com/","https://manhwahentai.me/"]),je=(n(38),null),De=[{key:"latest",value:"Latest"},{key:"alphabet",value:"A-Z"},{key:"rating",value:"Rating"},{key:"trending",value:"Trending"},{key:"views",value:"Most Views"},{key:"new-manga",value:"New"}],Ae=["WEBTOONS.XYZ","MANGACLASH.COM"],Ie=function(e){var t=Object(a.useState)(!!e.isActive),n=Object(g.a)(t,2),o=n[0],c=n[1],s=function(t){c(t===e.data.key)};return Object(a.useEffect)((function(){return m.on("cat.change",s),c(e.currentOrder===e.data.key),function(){m.off("cat.change",s)}})),r.a.createElement("div",{onClick:function(){m.emit("cat.change",e.data.key)},className:"cat-btn"+(o?" cat-act":"")},e.data.value)},Pe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).componentDidMount=function(){je?e.setState(je):e.loadPage(),m.on("cat.change",e.onCatChange),console.log(e.state.orderBy)},e.componentWillUnmount=function(){je=e.state,m.off("cat.change",e.onCatChange)},e.onCatChange=function(t){t&&e.setState({orderBy:t,currentPage:1},(function(){e.loadPage(e.state.orderBy)}))},e.loadPage=function(t){e.setState({isLoading:!0},(function(){(function(e,t,n){return j.apply(this,arguments)})(e.state.tabIndex,e.state.currentPage,t).then((function(t){console.log(t);var n=e.createPageArray(t.resultTotalCount,t.list.length);e.setState({isLoading:!1,list:t.list,itemPerPageCount:1===e.state.currentPage?t.list.length:e.state.itemPerPageCount,pageArr:1===e.state.currentPage?n:e.state.pageArr,overallCount:t.resultTotalCount})})).catch((function(t){e.setState({isLoading:!1}),console.log(t)}))}))},e.createPageArray=function(e,t){for(var n=Math.ceil(e/t),a=[],r=1;r<=n;r++)a.push({key:r,value:"Page ".concat(Number(r).toLocaleString()," / ").concat(Number(n).toLocaleString())});return a},e.nextPage=function(){e.setState({currentPage:e.state.currentPage+1},(function(){e.loadPage(e.state.orderBy)}))},e.prevPage=function(){e.state.currentPage-1>=1?e.setState({currentPage:e.state.currentPage-1},(function(){e.loadPage(e.state.orderBy)})):e.setState({currentPage:1},(function(){e.loadPage(e.state.orderBy)}))},e.onSelPageChange=function(t){t.preventDefault(),e.setState({currentPage:Number(t.target.options[t.target.selectedIndex].value)},(function(){e.loadPage(e.state.orderBy)}))},e.gotoStoryPage=function(e){window.history.pushState(null,"",e),m.emit("pushstate")},e.gotoChapterPage=function(e){var t="/chapter?url=".concat(encodeURIComponent(e.chapURL));window.history.pushState(null,"",t),m.emit("pushstate"),ge.add({date:e.postOn,url:e.chapURL,cover:e.cover,storyTitle:e.title,title:e.chapText})},e.state={currentPage:1,isLoading:!1,list:[],itemPerPageCount:20,pageArr:[],orderBy:"latest",overallCount:0,tabIndex:0},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"reco-parent-con"},r.a.createElement("div",{className:"reco-tab-con"},r.a.createElement("button",{onClick:function(){e.setState({tabIndex:0,currentPage:1},(function(){e.loadPage(),console.log(e.state.tabIndex)}))},className:0===this.state.tabIndex?"rtb-act":""},"WEBTOONS.XYZ"),r.a.createElement("div",{className:"reco-tab-splitter"}),r.a.createElement("button",{onClick:function(){e.setState({tabIndex:1,currentPage:1},(function(){e.loadPage(),console.log(e.state.tabIndex)}))},className:1===this.state.tabIndex?"rtb-act":""},"MANGACLASH.COM")),r.a.createElement("h3",{className:"reco-h-title"},'"',Ae[this.state.tabIndex],'"'),r.a.createElement("p",{className:"reco-sub-title"},"Recommendations"),r.a.createElement("div",{style:{paddingLeft:8,paddingRight:8}},r.a.createElement(Me,{title:"Category"})),r.a.createElement("div",{className:"cat-btn-con"},De.map((function(t,n){return r.a.createElement(Ie,{key:n,data:t,currentOrder:e.state.orderBy})}))),r.a.createElement("div",{style:{paddingLeft:8,paddingRight:8}},r.a.createElement(Me,{title:" Results: ".concat(this.state.isLoading?0:Number(this.state.overallCount).toLocaleString()," | Page: ").concat(Number(this.state.currentPage).toLocaleString())})),this.state.isLoading&&r.a.createElement("img",{src:H.a,alt:"Loading List.."}),!this.state.isLoading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"reco-list-con"},this.state.list.map((function(t,n){var a="/story?url=".concat(encodeURIComponent(t.url));return r.a.createElement("div",{key:n,className:"reco-item ri-bg"},r.a.createElement("a",{className:"reco-item-cover-con",href:a,onClick:function(t){t.preventDefault(),e.gotoStoryPage(a)}},r.a.createElement(F,{src:t.imgURL,alt:t.title,onCache:function(e,t){z.add(e,t)},style:{width:100,minHeight:136.36}}),r.a.createElement("div",{className:"reco-item-badge-con"},t.badges.map((function(e,t){return"18+"===e?r.a.createElement("div",{key:t,className:"reco-badge-adult"},e):r.a.createElement("div",{key:t,className:"reco-badge-new"},e)})))),r.a.createElement("div",{className:"reco-item-summary"},r.a.createElement("a",{className:"ris-title",href:a,onClick:function(t){t.preventDefault(),e.gotoStoryPage(a)}},t.title),r.a.createElement("div",{className:"ris-rating"},"Rating: ",r.a.createElement("strong",null,t.rating," / 5")),r.a.createElement("div",{className:"ris-itm-con"},t.last_two_chapters.map((function(n,a){var o="/chapter?url=".concat(encodeURIComponent(n.chapURL));return r.a.createElement("a",{key:a,className:"ris-chap-item-con",href:o,onClick:function(a){a.preventDefault(),n.cover=t.imgURL,n.title=t.title,e.gotoChapterPage(n)}},r.a.createElement("div",{className:"ris-chap-item"},n.chapText),r.a.createElement("div",{className:"risci-post-on"},n.isNew?r.a.createElement("div",{className:"risci-new"},"NEW"):r.a.createElement("div",null,n.postOn)))})))))}))),r.a.createElement("div",{className:"ris-btn-con"},r.a.createElement("button",{onClick:this.prevPage,disabled:!(this.state.currentPage>1)},"PREV"),r.a.createElement("div",{style:{width:8}}),r.a.createElement("select",{value:this.state.currentPage,onChange:this.onSelPageChange,className:"sel-reco-pg"},r.a.createElement("option",{value:0,disabled:!0},"Select Page Number"),this.state.pageArr.map((function(e,t){return r.a.createElement("option",{key:t,value:e.key},e.value)}))),r.a.createElement("div",{style:{width:8}}),r.a.createElement("button",{onClick:this.nextPage,disabled:this.state.currentPage>=this.state.pageArr.length},"NEXT"))))}}]),n}(a.Component),Me=function(e){return r.a.createElement("div",{className:"sec-title-holder"},r.a.createElement("div",{className:"sth-title"},e.title),r.a.createElement("div",{className:"sth-underline"}))},qe=null,Be=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={activeTab:0,tabCount:3,isLoading:!1},e.inURLRef=r.a.createRef(),e.snackRef=r.a.createRef(),e.componentDidMount=function(){qe&&e.setState(Object(E.a)({},qe))},e.componentWillUnmount=function(){qe=e.state},e.setActiveTab=function(t){e.setState({activeTab:t},(function(){}))},e.onSubmit=function(){var t=e.inURLRef.current.value;t.match(/^(http|https):\/\/[^/]+\/[^/]+\/[^/]+\/?$/)?e.addStory(t).then((function(){e.snackRef.current.show({message:"Successfully Added to List",mode:"success"}),m.emit("url.added",null),e.inURLRef.current.value=""})):e.snackRef.current.show({message:"Invalid URL",mode:"error"})},e.addStory=function(t){return new Promise((function(n,a){e.setState({isLoading:!0},(function(){_(t).then((function(t){if(500===t.status)return e.snackRef.current.show({message:"Failed Requesting Story Info",mode:"error"}),e.setState({isLoading:!1}),null;console.log(t),S.addStory({title:t.title,url:t.url,cover:t.cover,info_json:JSON.stringify(t.storyInfo),description:t.description}).then((function(t){console.log(t),n(t),e.setState({isLoading:!1})})).catch((function(t){e.setState({isLoading:!1}),console.log(t),a(t),6===t.code?e.snackRef.current.show({message:"URL already exists.",mode:"error"}):t.message?e.snackRef.current.show({message:"Error: \n"+t.message,mode:"error"}):e.snackRef.current.show({message:"Error: "+t,mode:"error"})}))})).catch((function(t){throw console.log(t),a(t),e.snackRef.current.show({message:"Error Getting Story Details:"+t,mode:"error"}),t}))}))}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{className:"ap-con"},r.a.createElement("div",{className:"ap-head"},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){window.history.back()}},r.a.createElement(w,{name:"arrow_back",fill:"#555"})),r.a.createElement("div",{className:"ap-h-title"},"Add New Story")),r.a.createElement("div",{className:"ap-content"},(e=this.state.activeTab,{0:r.a.createElement(Pe,null),1:r.a.createElement(Ue,null),2:r.a.createElement("div",{className:"link-frm-con"},r.a.createElement("h2",null,"Add via URL"),r.a.createElement("input",{type:"text",placeholder:"Story URL...",ref:t.inURLRef}),r.a.createElement("button",{onClick:t.onSubmit,disabled:t.state.isLoading},"ADD NOW"),r.a.createElement("div",{style:{height:32}}),t.state.isLoading&&r.a.createElement(_e,{style:{backgroundColor:"rgba(255,255,255, 0.7)",zIndex:99}}),r.a.createElement("h4",null,"Sample Valid Story URL"),r.a.createElement("div",{className:"sam-v-u"},"https://manhwa.club/manhwa/solo-leveling/"),r.a.createElement(Me,{title:"List of Valid Sites"}),Le.map((function(e,t){return r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",key:t},r.a.createElement("div",null,new URL(e).hostname),r.a.createElement(w,{name:"arrow_forward_ios",fill:"#777",size:14}))})))}[e]),r.a.createElement("div",null)),r.a.createElement("div",{className:"ap-foot"},r.a.createElement("div",{className:"ap-tab-act-line",style:{transform:"translateX(".concat(100*this.state.activeTab,"%)"),width:"".concat(100/this.state.tabCount,"%")}}),r.a.createElement("button",{onClick:function(){t.setActiveTab(0)}},r.a.createElement(w,{name:"verified",fill:"#555"}),r.a.createElement("div",{className:"ap-f-btn-lbl"},"Recommendations")),r.a.createElement("button",{onClick:function(){t.setActiveTab(1)}},r.a.createElement(w,{name:"public",fill:"#555"}),r.a.createElement("div",{className:"ap-f-btn-lbl"},"Search Online")),r.a.createElement("button",{onClick:function(){t.setActiveTab(2)}},r.a.createElement(w,{name:"link",fill:"#555"}),r.a.createElement("div",{className:"ap-f-btn-lbl"},"Add Link"))),r.a.createElement(Y,{ref:this.snackRef}))}}]),n}(a.Component),ze=null,Ue=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:"",isLoading:!1,list:[]},e.searchTimer=null,e.componentDidMount=function(){e.getResults(),ze&&e.setState(Object(E.a)({},ze))},e.componentWillUnmount=function(){ze=e.state},e.getResults=function(){""!==e.state.search&&e.setState({isLoading:!0},(function(){A(e.state.search).then((function(t){e.setState({isLoading:!1,list:t})})).catch((function(t){e.setState({isLoading:!1})}))}))},e.onSearchChange=function(t){t.preventDefault(),e.setState({search:t.target.value},(function(){}))},e.onSearchKeyDown=function(t){13===t.keyCode&&e.getResults()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ap-so-con"},r.a.createElement("div",{className:"ap-search-con"},r.a.createElement("input",{type:"text",placeholder:"Search Keyword...",onChange:this.onSearchChange,value:this.state.search,onKeyDown:this.onSearchKeyDown}),r.a.createElement("button",{className:"ap-s-search-btn",onClick:function(){e.getResults()}},r.a.createElement(w,{name:"search",fill:"#888"})),r.a.createElement("div",{style:{width:8}}),r.a.createElement("button",{className:"ap-s-close",onClick:function(){e.setState({search:""})}},r.a.createElement(w,{name:"close",fill:"#888"}))),r.a.createElement("div",{className:"ap-results-con"},this.state.isLoading?r.a.createElement("img",{src:window.base_url+"loading.svg",alt:"loading",style:{display:"block",marginLeft:"auto",marginRight:"auto"}}):this.state.list.map((function(e,t){if(!0===e.success){var n=e.data;return r.a.createElement("div",{key:t},r.a.createElement(Me,{title:new URL(e.data[0].url).hostname}),r.a.createElement("div",null,n.map((function(e,t){return r.a.createElement("button",{key:t,className:"search-item-con",onClick:function(){var t="/story?url=".concat(encodeURIComponent(e.url));window.history.pushState(null,"",t),m.emit("pushstate")}},r.a.createElement("div",{className:"sic-title"},r.a.createElement("div",null,e.title),r.a.createElement("div",{className:"sic-hostname"},new URL(e.url).hostname)),r.a.createElement(w,{name:"arrow_forward_ios",fill:"#777",size:14}))}))))}return null}))))}}]),n}(a.Component),He=(n(39),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:"",url:null,info:{},description:"",cover:"",raw_cover:""},e.componentDidMount=function(){window.history.state&&e.setState(Object(E.a)({},window.history.state),(function(){console.log("State: ",e.state)}))},e.getHostName=function(){return String(e.state.url).match(/^(http|https):\/\/[^/]+\/[^/]+\/[^/]+\/?$/)?new URL(e.state.url).hostname:"Unknown Site"},e.polishText=function(e){return"string"===typeof e?e.split(",").map((function(e){return e.trim()})).join(", "):e},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(this.state.info);return r.a.createElement("div",{className:"sip-con"},r.a.createElement("div",{className:"ap-head"},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){window.history.back()}},r.a.createElement(w,{name:"arrow_back",fill:"#555"})),r.a.createElement("div",{className:"ap-h-title"},"Story Info")),r.a.createElement("div",{className:"sip-content"},r.a.createElement("div",{className:"sip-title"},'"',this.state.title,'"'),r.a.createElement("div",null,this.getHostName()),r.a.createElement(Me,{title:"Info"}),r.a.createElement("div",{className:"sip-info"},t.map((function(t,n){return r.a.createElement("div",{key:n,className:"sip-info-item-con"},r.a.createElement("div",{className:"sip-ii-key"},t,":"),r.a.createElement("div",{className:"sip-ii-val"},e.polishText(e.state.info[t])))}))),r.a.createElement(Me,{title:"Description"}),r.a.createElement("div",{className:"sip-desc"},this.state.description)))}}]),n}(a.Component));var Fe=function(e){return r.a.createElement("div",{className:"sip-con"},r.a.createElement("div",{className:"ap-head"},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){window.history.back()}},r.a.createElement(w,{name:"arrow_back",fill:"#555"})),r.a.createElement("div",{className:"ap-h-title"},"About")),r.a.createElement("div",{className:"sip-content"},r.a.createElement("div",{className:"siwt-list-con"},r.a.createElement("img",{src:window.base_url+"erl-manhwa-logo.svg",alt:"App Logo",style:{maxWidth:200,width:"100%"}}),r.a.createElement(Me,{title:"App Creator"}),r.a.createElement("div",{className:"sip-desc"},"The app was created by:",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",{onClick:function(){window.open("https://www.facebook.com/Erlzone1016/")},className:"h-link"},"Erlson David Escalante")),r.a.createElement(Me,{title:"Version"}),r.a.createElement("div",{className:"sip-desc"},"0.1 (Beta Version)"),r.a.createElement(Me,{title:"App Description"}),r.a.createElement("div",{className:"sip-desc"},"The purpose of the app is to scrape source sites. Its main goal is to remove ADS while reading the selected story."))))},We=(n(40),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={list:[],current_page:1,overAllSize:0,limit:10,isLoading:!1,total_page_count:0},e.componentDidMount=function(){e.loadData()},e.loadData=function(){e.setState({isLoading:!0},(function(){ge.getAll(e.state.limit,e.state.current_page).then((function(t){console.log(t),e.setState({list:t.data,overAllSize:t.overAllSize,total_page_count:t.total_page_count,isLoading:!1})})).catch((function(){e.setState({isLoading:!1})}))}))},e.onPrevPage=function(){e.setState({current_page:e.state.current_page-1},(function(){e.loadData()}))},e.onNextPage=function(){e.setState({current_page:e.state.current_page+1},(function(){e.loadData()}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sip-con"},r.a.createElement("div",{className:"ap-head"},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){window.history.back()}},r.a.createElement(w,{name:"arrow_back",fill:"#555"})),r.a.createElement("div",{className:"ap-h-title"},"Recents")),r.a.createElement("div",{className:"sip-content"},this.state.isLoading?r.a.createElement(_e,null):this.state.list.map((function(e,t){return r.a.createElement("a",{key:t,href:"/chapter?url=".concat(encodeURIComponent(e.url)),onClick:function(t){t.preventDefault(),window.history.pushState(null,"","/chapter?url=".concat(encodeURIComponent(e.url))),m.emit("pushstate")},className:"recent-item-con"},r.a.createElement("div",{className:"ritm-cover-con"},r.a.createElement(F,{src:e.cover})),r.a.createElement("div",{className:"ritm-info-con"},r.a.createElement("div",{className:"ritm-title"},e.storyTitle),r.a.createElement("div",{className:"ritm-chap"},e.title),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("div",{className:"ritm-date"},new Date(e.dateAdded).toDateString()),r.a.createElement("div",{className:"ritm-time"},new Date(e.dateAdded).toLocaleTimeString())))}))),r.a.createElement("div",{className:"hp2-foot-con"},r.a.createElement("div",{className:"recent-pg-footer"},r.a.createElement("button",{className:"hp2-h-btn2",onClick:this.onPrevPage,title:"Previous Page",disabled:this.state.current_page<=1},r.a.createElement(w,{name:"arrow_back",fill:"#777"})),r.a.createElement("div",{className:"hp2-pg-curr-lbl"},"Page ",this.state.current_page," / ",this.state.total_page_count>0?this.state.total_page_count:1),r.a.createElement("button",{className:"hp2-h-btn2",onClick:this.onNextPage,title:"Next Page",disabled:this.state.current_page>=this.state.total_page_count},r.a.createElement(w,{name:"arrow_forward",fill:"#777"})),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("button",{className:"hp2-h-btn3",onClick:function(){ge.clearAll(),e.loadData()}},r.a.createElement(w,{name:"delete",fill:"#777"}),"Clear All"))))}}]),n}(r.a.Component)),Ze=(n(41),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={story:"** Getting Story Latest Info **",chapters:[],cover:null,show:!1,isLoading:!0},e.dlContentRef=Object(a.createRef)(),e.componentDidMount=function(){m.on("dl.receive.story",e.onReceivedStory),m.on("dl.show",e.show),m.on("dl.hide",e.hide),m.on("dl.img.prog",e.chapImageProgUpdate),m.on("dl.progress",e.onDoneDL)},e.componentWillUnmount=function(){m.off("dl.receive.story",e.onReceivedStory),m.off("dl.show",e.show),m.off("dl.hide",e.hide),m.off("dl.img.prog",e.chapImageProgUpdate),m.off("dl.progress",e.onDoneDL)},e.onDoneDL=function(){e.setState({story:"Loading Story Title...",chapters:[],cover:null,isLoading:!0})},e.onReceivedStory=function(t){console.log(t.cover);var n=t.chapters.reverse();e.setState({story:t.title,chapters:n,cover:t.cover,isLoading:!1})},e.chapImageProgUpdate=function(t){var n=t.index,a=t.total,r=(t.chaptitle,t.chapUrl);t.imgUrl;if(e.dlContentRef.current){var o=e.dlContentRef.current.querySelector('[data-url="'.concat(r,'"] > .dl-progbar'));if(o){var c=Math.floor(n/a*100);o.setAttribute("style","width: ".concat(c,"%"))}}},e.show=function(){e.setState({show:!0})},e.hide=function(){e.setState({show:!1,isLoading:!0})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(o.createPortal)(this.state.show?r.a.createElement("div",{className:"dl-modal-con"},r.a.createElement("div",{className:"dl-header"},this.state.story),r.a.createElement("div",{className:"dl-content",ref:this.dlContentRef},this.state.isLoading?r.a.createElement("img",{src:H.a,alt:"Loading SVG"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{src:this.state.cover}),this.state.chapters.map((function(e,t){return r.a.createElement("div",{key:t,className:"dl-progbar-con","data-url":e.url},r.a.createElement("div",{className:"dl-progbar"}),r.a.createElement("div",{className:"dl-progbar-title"},e.title))})))),r.a.createElement("div",{className:"dl-footer"},r.a.createElement("button",{className:"btnDLStop",onClick:function(){we(!1),e.hide()}},"STOP"))):null,document.body)}}]),n}(a.Component)),Ve=(n(42),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).darkModeRef=Object(a.createRef)(),e.loadImageSyncRef=Object(a.createRef)(),e.showItemStatusRef=Object(a.createRef)(),e.autoDeleteImageCacheRef=Object(a.createRef)(),e.fastDownloadRef=Object(a.createRef)(),e.CMRef=Object(a.createRef)(),e.componentDidMount=function(){e.loadDefaultValues()},e.loadDefaultValues=function(){e.darkModeRef.current.checked="light"!==ae(),e.loadImageSyncRef.current.checked=Boolean(Q()),e.showItemStatusRef.current.checked=Boolean(K()),e.autoDeleteImageCacheRef.current.checked=Boolean(J()),e.fastDownloadRef.current.checked=Boolean(te())},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sip-con"},r.a.createElement("div",{className:"ap-head"},r.a.createElement("button",{className:"hp2-h-btn",onClick:function(){window.history.back()}},r.a.createElement(w,{name:"arrow_back",fill:"#555"})),r.a.createElement("div",{className:"ap-h-title"},"Settings")),r.a.createElement("div",{className:"sip-content sett-page"},r.a.createElement("div",{className:"siwt-list-con"},r.a.createElement("h4",null,"Theme"),r.a.createElement(Ye,{ref:this.darkModeRef,text:"Dark Mode",onChange:function(e){e.checked?re("dark"):re("light")}}),r.a.createElement(Xe,null),r.a.createElement("h4",null,"Image and Item Loading Settings"),r.a.createElement(Ye,{ref:this.loadImageSyncRef,text:"Load Images In Sync",onChange:function(e){G(Number(e.checked))}}),r.a.createElement(Ye,{ref:this.showItemStatusRef,text:r.a.createElement(a.Fragment,null,"Show List Item Status",r.a.createElement("br",null),r.a.createElement("span",null,"(shows list item latest update date)")),onChange:function(e){$(Number(e.checked))}}),r.a.createElement(Xe,null),r.a.createElement("h4",null,"Download Settings"),r.a.createElement(Ye,{ref:this.fastDownloadRef,text:"Fast Download",onChange:function(e){ne(Number(e.checked))}}),r.a.createElement(Ye,{ref:this.autoDeleteImageCacheRef,text:r.a.createElement(a.Fragment,null,"Auto Delete Images Cache",r.a.createElement("br",null),r.a.createElement("span",null,"(for web only, not working on the app)")),onChange:function(e){ee(Number(e.checked))}}),r.a.createElement(Qe,{text:"Clear All Recent List",buttonClassName:"del-color m-icon",onClick:function(){e.CMRef.current.show({title:"Clear All Recents?",buttons:[{text:"YES",iconName:"delete",onClick:function(e){ge.clearAll().then((function(){m.emit("dl.progress",{message:"Deleted All Recents Successfully",mode:"success"})}))}},{text:"NO",iconName:"close",onClick:function(e){console.log("NO")}}]})}},"\ue872"),r.a.createElement(Qe,{text:r.a.createElement(a.Fragment,null,"Clear All Caches",r.a.createElement("br",null),r.a.createElement("span",null,"(Downloaded stories and chapters are included)")),buttonClassName:"del-color m-icon",onClick:function(){e.CMRef.current.show({title:r.a.createElement(a.Fragment,null,"Clear All Cache?",r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:14,fontWeight:100}},"(includes stories and chapters you downloaded)")),buttons:[{text:"YES",iconName:"delete",onClick:function(e){z.clearAll().then((function(){m.emit("dl.progress",{message:"Deleted All Caches Successfully",mode:"success"})}))}},{text:"NO",iconName:"close",onClick:function(e){console.log("NO")}}]})}},"\ue872"),r.a.createElement(Xe,null))),r.a.createElement(ke,{ref:this.CMRef}))}}]),n}(a.Component)),Xe=function(){return r.a.createElement("div",{style:{height:32}})},Ye=r.a.forwardRef((function(e,t){return r.a.createElement("div",{className:"siwt-con"},r.a.createElement("div",{className:"siwt-lbl"},e.text),r.a.createElement("div",null,r.a.createElement(oe,{ref:t,onChange:e.onChange})))})),Qe=r.a.forwardRef((function(e,t){return r.a.createElement("div",{className:"siwt-con"},r.a.createElement("div",{className:"siwt-lbl"},e.text),r.a.createElement("div",null,r.a.createElement("button",{ref:t,className:"siwt-btn"+(e.buttonClassName?" ".concat(e.buttonClassName):""),onClick:e.onClick},e.children)))})),Ge=Ve;var Ke=function(){var e=Object(a.createRef)(),t=function(t){var n=t.mode,a=t.message;e.current.show({message:a,mode:n})},n=function(){e.current.show({message:"You are online.",mode:"success"})},o=function(){e.current.show({message:"You are offline.",mode:"error"})};return Object(a.useEffect)((function(){return window.navigator.onLine?n():o(),window.addEventListener("online",n),window.addEventListener("offline",o),m.on("dl.progress",t),function(){window.removeEventListener("online",n),window.removeEventListener("offline",o),m.off("dl.progress",t)}}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(d,{path:"/"},r.a.createElement(fe,null)),r.a.createElement(d,{path:"/android_asset/www/index.html"},r.a.createElement(fe,null)),r.a.createElement(d,{path:"/add-story"},r.a.createElement(Be,null)),r.a.createElement(d,{path:"/settings"},r.a.createElement(Ge,null)),r.a.createElement(d,{path:"/story"},r.a.createElement(Oe,null)),r.a.createElement(d,{path:"/story-info"},r.a.createElement(He,null)),r.a.createElement(d,{path:"/recents"},r.a.createElement(We,null)),r.a.createElement(d,{path:"/chapter"},r.a.createElement(Re,null)),r.a.createElement(d,{path:"/about"},r.a.createElement(Fe,null)),r.a.createElement(Y,{ref:e}),r.a.createElement(Ze,null))},$e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var et=function(){window.addEventListener("popstate",(function(e){m.emit("url.changed",e)}))};function tt(){S.initTable()}"dark"===window.localStorage.getItem("theme")?document.body.setAttribute("class","dark"):document.body.setAttribute("class","light"),et(),window.base_url=window.location.pathname.replace(/\/[^/]+\/?$/,"/"),console.log("Base: ",window.base_url),window._startingURLPath=window.location.pathname,window.addEventListener("unload",(function(){Boolean(J())&&z.clearAll()}));var nt=function(e){y.init(tt),pe.init(),I.init(),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ke,null)),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",(function(){setTimeout((function(){document.getElementById("splash").style.opacity=0,setTimeout((function(){document.getElementById("splash").remove(),nt()}),300)}),2e3)}),!1):setTimeout((function(){document.getElementById("splash").style.opacity=0,setTimeout((function(){document.getElementById("splash").remove(),nt()}),300)}),2e3),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");$e?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Je(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Je(t,e)}))}}()}],[[19,1,2]]]);
//# sourceMappingURL=main.12e46a0a.chunk.js.map